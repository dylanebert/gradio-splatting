class U{constructor(U=0,F=0,l=0){this.x=U,this.y=F,this.z=l}equals(U){return this.x===U.x&&(this.y===U.y&&this.z===U.z)}add(F){return"number"==typeof F?new U(this.x+F,this.y+F,this.z+F):new U(this.x+F.x,this.y+F.y,this.z+F.z)}subtract(F){return"number"==typeof F?new U(this.x-F,this.y-F,this.z-F):new U(this.x-F.x,this.y-F.y,this.z-F.z)}multiply(F){return"number"==typeof F?new U(this.x*F,this.y*F,this.z*F):new U(this.x*F.x,this.y*F.y,this.z*F.z)}lerp(F,l){return new U(this.x+(F.x-this.x)*l,this.y+(F.y-this.y)*l,this.z+(F.z-this.z)*l)}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}distanceTo(U){return Math.sqrt((this.x-U.x)**2+(this.y-U.y)**2+(this.z-U.z)**2)}normalize(){const F=this.length();return new U(this.x/F,this.y/F,this.z/F)}flat(){return[this.x,this.y,this.z]}clone(){return new U(this.x,this.y,this.z)}}class F{constructor(U=0,F=0,l=0,t=1){this.x=U,this.y=F,this.z=l,this.w=t}equals(U){return this.x===U.x&&(this.y===U.y&&(this.z===U.z&&this.w===U.w))}normalize(){const U=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return new F(this.x/U,this.y/U,this.z/U,this.w/U)}multiply(U){const l=this.w,t=this.x,Q=this.y,Z=this.z,V=U.w,d=U.x,n=U.y,R=U.z;return new F(l*d+t*V+Q*R-Z*n,l*n-t*R+Q*V+Z*d,l*R+t*n-Q*d+Z*V,l*V-t*d-Q*n-Z*R)}flat(){return[this.x,this.y,this.z,this.w]}clone(){return new F(this.x,this.y,this.z,this.w)}static FromEuler(U){const l=U.x/2,t=U.y/2,Q=U.z/2,Z=Math.cos(t),V=Math.sin(t),d=Math.cos(l),n=Math.sin(l),R=Math.cos(Q),W=Math.sin(Q);return new F(Z*n*R+V*d*W,V*d*R-Z*n*W,Z*d*W-V*n*R,Z*d*R+V*n*W)}toEuler(){const F=2*(this.w*this.x+this.y*this.z),l=1-2*(this.x*this.x+this.y*this.y),t=Math.atan2(F,l);let Q;const Z=2*(this.w*this.y-this.z*this.x);Q=Math.abs(Z)>=1?Math.sign(Z)*Math.PI/2:Math.asin(Z);const V=2*(this.w*this.z+this.x*this.y),d=1-2*(this.y*this.y+this.z*this.z),n=Math.atan2(V,d);return new U(t,Q,n)}static FromMatrix3(U){const l=U.buffer,t=l[0]+l[4]+l[8];let Q,Z,V,d;if(t>0){const U=.5/Math.sqrt(t+1);d=.25/U,Q=(l[7]-l[5])*U,Z=(l[2]-l[6])*U,V=(l[3]-l[1])*U}else if(l[0]>l[4]&&l[0]>l[8]){const U=2*Math.sqrt(1+l[0]-l[4]-l[8]);d=(l[7]-l[5])/U,Q=.25*U,Z=(l[1]+l[3])/U,V=(l[2]+l[6])/U}else if(l[4]>l[8]){const U=2*Math.sqrt(1+l[4]-l[0]-l[8]);d=(l[2]-l[6])/U,Q=(l[1]+l[3])/U,Z=.25*U,V=(l[5]+l[7])/U}else{const U=2*Math.sqrt(1+l[8]-l[0]-l[4]);d=(l[3]-l[1])/U,Q=(l[2]+l[6])/U,Z=(l[5]+l[7])/U,V=.25*U}return new F(Q,Z,V,d)}}class l{constructor(){const U=new Map;this.addEventListener=(F,l)=>{U.has(F)||U.set(F,new Set),U.get(F).add(l)},this.removeEventListener=(F,l)=>{U.has(F)&&U.get(F).delete(l)},this.hasEventListener=(F,l)=>!!U.has(F)&&U.get(F).has(l),this.dispatchEvent=F=>{if(U.has(F.type))for(const l of U.get(F.type))l(F)}}}class t extends l{constructor(){super(),this._position=new U,this._rotation=new F,this._changeEvent={type:"change"}}get position(){return this._position}set position(U){this._position.equals(U)||(this._position=U,this.dispatchEvent(this._changeEvent))}get rotation(){return this._rotation}set rotation(U){this._rotation.equals(U)||(this._rotation=U,this.dispatchEvent(this._changeEvent))}}class Q{constructor(U=1,F=0,l=0,t=0,Q=1,Z=0,V=0,d=0,n=1){this.buffer=[U,F,l,t,Q,Z,V,d,n]}equals(U){if(this.buffer.length!==U.buffer.length)return!1;if(this.buffer===U.buffer)return!0;for(let F=0;F<this.buffer.length;F++)if(this.buffer[F]!==U.buffer[F])return!1;return!0}multiply(U){const F=this.buffer,l=U.buffer;return new Q(l[0]*F[0]+l[3]*F[1]+l[6]*F[2],l[1]*F[0]+l[4]*F[1]+l[7]*F[2],l[2]*F[0]+l[5]*F[1]+l[8]*F[2],l[0]*F[3]+l[3]*F[4]+l[6]*F[5],l[1]*F[3]+l[4]*F[4]+l[7]*F[5],l[2]*F[3]+l[5]*F[4]+l[8]*F[5],l[0]*F[6]+l[3]*F[7]+l[6]*F[8],l[1]*F[6]+l[4]*F[7]+l[7]*F[8],l[2]*F[6]+l[5]*F[7]+l[8]*F[8])}clone(){const U=this.buffer;return new Q(U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],U[8])}static Eye(U=1){return new Q(U,0,0,0,U,0,0,0,U)}static Diagonal(U){return new Q(U.x,0,0,0,U.y,0,0,0,U.z)}static RotationFromQuaternion(U){return new Q(1-2*U.y*U.y-2*U.z*U.z,2*U.x*U.y-2*U.z*U.w,2*U.x*U.z+2*U.y*U.w,2*U.x*U.y+2*U.z*U.w,1-2*U.x*U.x-2*U.z*U.z,2*U.y*U.z-2*U.x*U.w,2*U.x*U.z-2*U.y*U.w,2*U.y*U.z+2*U.x*U.w,1-2*U.x*U.x-2*U.y*U.y)}static RotationFromEuler(U){const F=Math.cos(U.x),l=Math.sin(U.x),t=Math.cos(U.y),Z=Math.sin(U.y),V=Math.cos(U.z),d=Math.sin(U.z);return new Q(...[t*V+Z*l*d,-t*d+Z*l*V,Z*F,F*d,F*V,-l,-Z*V+t*l*d,Z*d+t*l*V,t*F])}}class Z{constructor(U=1,F=0,l=0,t=0,Q=0,Z=1,V=0,d=0,n=0,R=0,W=1,e=0,i=0,a=0,h=0,B=1){this.buffer=[U,F,l,t,Q,Z,V,d,n,R,W,e,i,a,h,B]}equals(U){if(this.buffer.length!==U.buffer.length)return!1;if(this.buffer===U.buffer)return!0;for(let F=0;F<this.buffer.length;F++)if(this.buffer[F]!==U.buffer[F])return!1;return!0}multiply(U){const F=this.buffer,l=U.buffer;return new Z(l[0]*F[0]+l[1]*F[4]+l[2]*F[8]+l[3]*F[12],l[0]*F[1]+l[1]*F[5]+l[2]*F[9]+l[3]*F[13],l[0]*F[2]+l[1]*F[6]+l[2]*F[10]+l[3]*F[14],l[0]*F[3]+l[1]*F[7]+l[2]*F[11]+l[3]*F[15],l[4]*F[0]+l[5]*F[4]+l[6]*F[8]+l[7]*F[12],l[4]*F[1]+l[5]*F[5]+l[6]*F[9]+l[7]*F[13],l[4]*F[2]+l[5]*F[6]+l[6]*F[10]+l[7]*F[14],l[4]*F[3]+l[5]*F[7]+l[6]*F[11]+l[7]*F[15],l[8]*F[0]+l[9]*F[4]+l[10]*F[8]+l[11]*F[12],l[8]*F[1]+l[9]*F[5]+l[10]*F[9]+l[11]*F[13],l[8]*F[2]+l[9]*F[6]+l[10]*F[10]+l[11]*F[14],l[8]*F[3]+l[9]*F[7]+l[10]*F[11]+l[11]*F[15],l[12]*F[0]+l[13]*F[4]+l[14]*F[8]+l[15]*F[12],l[12]*F[1]+l[13]*F[5]+l[14]*F[9]+l[15]*F[13],l[12]*F[2]+l[13]*F[6]+l[14]*F[10]+l[15]*F[14],l[12]*F[3]+l[13]*F[7]+l[14]*F[11]+l[15]*F[15])}clone(){const U=this.buffer;return new Z(U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],U[8],U[9],U[10],U[11],U[12],U[13],U[14],U[15])}}class V extends t{constructor(l=new U(0,0,-5),t=new F,V=1132,d=1132,n=.1,R=100){super();const W=()=>{const U=Q.RotationFromQuaternion(this.rotation).buffer,F=this.position.flat(),l=[[U[0],U[1],U[2],0],[U[3],U[4],U[5],0],[U[6],U[7],U[8],0],[-F[0]*U[0]-F[1]*U[3]-F[2]*U[6],-F[0]*U[1]-F[1]*U[4]-F[2]*U[7],-F[0]*U[2]-F[1]*U[5]-F[2]*U[8],1]].flat();return new Z(...l)};this.position=l,this.rotation=t,this.fx=V,this.fy=d,this.near=n,this.far=R,this.projectionMatrix=new Z,this.viewMatrix=new Z,this.viewProj=new Z,this.update=(U,F)=>{this.projectionMatrix=new Z(2*this.fx/U,0,0,0,0,-2*this.fy/F,0,0,0,0,this.far/(this.far-this.near),1,0,0,-this.far*this.near/(this.far-this.near),0),this.viewMatrix=W(),this.viewProj=this.projectionMatrix.multiply(this.viewMatrix)}}}class d extends l{constructor(){super();const l=new Float32Array(1),t=new Int32Array(l.buffer),Z=U=>{l[0]=U;const F=t[0],Q=F>>23&255;let Z,V=8388607&F;return 0==Q?Z=0:Q<113?(Z=0,V|=8388608,V>>=113-Q,16777216&V&&(Z=1,V=0)):Q<142?Z=Q-112:(Z=31,V=0),(F>>31&1)<<15|Z<<10|V>>13},V=(U,F)=>(Z(U)|Z(F)<<16)>>>0,n={type:"change"};this._data=new Uint32Array(0),this._vertexCount=0,this._width=2048,this._height=0,this._positions=new Float32Array(0),this._rotations=new Float32Array(0),this._scales=new Float32Array(0),this.setData=l=>{this._vertexCount=l.length/d.RowLength,this._height=Math.ceil(2*this._vertexCount/this._width),this._data=new Uint32Array(this._width*this._height*4),this._positions=new Float32Array(3*this._vertexCount),this._rotations=new Float32Array(4*this._vertexCount),this._scales=new Float32Array(3*this._vertexCount);const t=new Float32Array(l.buffer),Z=new Uint8Array(l.buffer),R=new Uint8Array(this._data.buffer),W=new Float32Array(this._data.buffer);for(let l=0;l<this._vertexCount;l++){this._positions[3*l+0]=t[8*l+0],this._positions[3*l+1]=t[8*l+1],this._positions[3*l+2]=t[8*l+2],this._rotations[4*l+0]=(Z[32*l+28+0]-128)/128,this._rotations[4*l+1]=(Z[32*l+28+1]-128)/128,this._rotations[4*l+2]=(Z[32*l+28+2]-128)/128,this._rotations[4*l+3]=(Z[32*l+28+3]-128)/128,this._scales[3*l+0]=t[8*l+3+0],this._scales[3*l+1]=t[8*l+3+1],this._scales[3*l+2]=t[8*l+3+2],W[8*l+0]=this._positions[3*l+0],W[8*l+1]=this._positions[3*l+1],W[8*l+2]=this._positions[3*l+2],R[4*(8*l+7)+0]=Z[32*l+24+0],R[4*(8*l+7)+1]=Z[32*l+24+1],R[4*(8*l+7)+2]=Z[32*l+24+2],R[4*(8*l+7)+3]=Z[32*l+24+3];const d=Q.RotationFromQuaternion(new F(this._rotations[4*l+1],this._rotations[4*l+2],this._rotations[4*l+3],-this._rotations[4*l+0])),n=Q.Diagonal(new U(this._scales[3*l+0],this._scales[3*l+1],this._scales[3*l+2])).multiply(d).buffer,e=[n[0]*n[0]+n[3]*n[3]+n[6]*n[6],n[0]*n[1]+n[3]*n[4]+n[6]*n[7],n[0]*n[2]+n[3]*n[5]+n[6]*n[8],n[1]*n[1]+n[4]*n[4]+n[7]*n[7],n[1]*n[2]+n[4]*n[5]+n[7]*n[8],n[2]*n[2]+n[5]*n[5]+n[8]*n[8]];this._data[8*l+4]=V(4*e[0],4*e[1]),this._data[8*l+5]=V(4*e[2],4*e[3]),this._data[8*l+6]=V(4*e[4],4*e[5])}this.dispatchEvent(n)},this.translate=U=>{const F=new Float32Array(this._data.buffer);for(let l=0;l<this._vertexCount;l++)this._positions[3*l+0]+=U.x,this._positions[3*l+1]+=U.y,this._positions[3*l+2]+=U.z,F[8*l+0]=this._positions[3*l+0],F[8*l+1]=this._positions[3*l+1],F[8*l+2]=this._positions[3*l+2];this.dispatchEvent(n)},this.rotate=l=>{const t=Q.RotationFromQuaternion(l).buffer,Z=new Float32Array(this._data.buffer);for(let d=0;d<this._vertexCount;d++){const n=this._positions[3*d+0],R=this._positions[3*d+1],W=this._positions[3*d+2];this._positions[3*d+0]=t[0]*n+t[1]*R+t[2]*W,this._positions[3*d+1]=t[3]*n+t[4]*R+t[5]*W,this._positions[3*d+2]=t[6]*n+t[7]*R+t[8]*W,Z[8*d+0]=this._positions[3*d+0],Z[8*d+1]=this._positions[3*d+1],Z[8*d+2]=this._positions[3*d+2];const e=new F(this._rotations[4*d+1],this._rotations[4*d+2],this._rotations[4*d+3],this._rotations[4*d+0]),i=l.multiply(e);this._rotations[4*d+1]=i.x,this._rotations[4*d+2]=i.y,this._rotations[4*d+3]=i.z,this._rotations[4*d+0]=i.w;const a=Q.RotationFromQuaternion(new F(this._rotations[4*d+1],this._rotations[4*d+2],this._rotations[4*d+3],-this._rotations[4*d+0])),h=Q.Diagonal(new U(this._scales[3*d+0],this._scales[3*d+1],this._scales[3*d+2])).multiply(a).buffer,B=[h[0]*h[0]+h[3]*h[3]+h[6]*h[6],h[0]*h[1]+h[3]*h[4]+h[6]*h[7],h[0]*h[2]+h[3]*h[5]+h[6]*h[8],h[1]*h[1]+h[4]*h[4]+h[7]*h[7],h[1]*h[2]+h[4]*h[5]+h[7]*h[8],h[2]*h[2]+h[5]*h[5]+h[8]*h[8]];this._data[8*d+4]=V(4*B[0],4*B[1]),this._data[8*d+5]=V(4*B[2],4*B[3]),this._data[8*d+6]=V(4*B[4],4*B[5])}this.dispatchEvent(n)},this.scale=l=>{const t=new Float32Array(this._data.buffer);for(let Z=0;Z<this.vertexCount;Z++){this._positions[3*Z+0]*=l.x,this._positions[3*Z+1]*=l.y,this._positions[3*Z+2]*=l.z,t[8*Z+0]=this._positions[3*Z+0],t[8*Z+1]=this._positions[3*Z+1],t[8*Z+2]=this._positions[3*Z+2],this._scales[3*Z+0]*=l.x,this._scales[3*Z+1]*=l.y,this._scales[3*Z+2]*=l.z;const d=Q.RotationFromQuaternion(new F(this._rotations[4*Z+1],this._rotations[4*Z+2],this._rotations[4*Z+3],-this._rotations[4*Z+0])),n=Q.Diagonal(new U(this._scales[3*Z+0],this._scales[3*Z+1],this._scales[3*Z+2])).multiply(d).buffer,R=[n[0]*n[0]+n[3]*n[3]+n[6]*n[6],n[0]*n[1]+n[3]*n[4]+n[6]*n[7],n[0]*n[2]+n[3]*n[5]+n[6]*n[8],n[1]*n[1]+n[4]*n[4]+n[7]*n[7],n[1]*n[2]+n[4]*n[5]+n[7]*n[8],n[2]*n[2]+n[5]*n[5]+n[8]*n[8]];this._data[8*Z+4]=V(4*R[0],4*R[1]),this._data[8*Z+5]=V(4*R[2],4*R[3]),this._data[8*Z+6]=V(4*R[4],4*R[5])}this.dispatchEvent(n)},this.limitBox=(U,F,l,t,Q,Z)=>{if(U>=F)throw new Error(`xMin (${U}) must be smaller than xMax (${F})`);if(l>=t)throw new Error(`yMin (${l}) must be smaller than yMax (${t})`);if(Q>=Z)throw new Error(`zMin (${Q}) must be smaller than zMax (${Z})`);const V=new Uint8Array(this._vertexCount);for(let d=0;d<this._vertexCount;d++){const n=this._positions[3*d+0],R=this._positions[3*d+1],W=this._positions[3*d+2];n>=U&&n<=F&&R>=l&&R<=t&&W>=Q&&W<=Z&&(V[d]=1)}let d=0;for(let U=0;U<this._vertexCount;U++)0!==V[U]&&(this._data[8*d+0]=this._data[8*U+0],this._data[8*d+1]=this._data[8*U+1],this._data[8*d+2]=this._data[8*U+2],this._data[8*d+3]=this._data[8*U+3],this._data[8*d+4]=this._data[8*U+4],this._data[8*d+5]=this._data[8*U+5],this._data[8*d+6]=this._data[8*U+6],this._data[8*d+7]=this._data[8*U+7],this._positions[3*d+0]=this._positions[3*U+0],this._positions[3*d+1]=this._positions[3*U+1],this._positions[3*d+2]=this._positions[3*U+2],this._rotations[4*d+0]=this._rotations[4*U+0],this._rotations[4*d+1]=this._rotations[4*U+1],this._rotations[4*d+2]=this._rotations[4*U+2],this._rotations[4*d+3]=this._rotations[4*U+3],this._scales[3*d+0]=this._scales[3*U+0],this._scales[3*d+1]=this._scales[3*U+1],this._scales[3*d+2]=this._scales[3*U+2],d+=1);this._height=Math.ceil(2*d/this._width),this._vertexCount=d,this._data=new Uint32Array(this._data.buffer,0,this._width*this._height*4),this._positions=new Float32Array(this._positions.buffer,0,3*d),this._rotations=new Float32Array(this._rotations.buffer,0,4*d),this._scales=new Float32Array(this._scales.buffer,0,3*d),this.dispatchEvent(n)},this.saveToFile=U=>{if(!document)return;const F=new Uint8Array(this._vertexCount*d.RowLength),l=new Float32Array(F.buffer),t=new Uint8Array(F.buffer),Q=new Uint8Array(this._data.buffer);for(let U=0;U<this._vertexCount;U++)l[8*U+0]=this._positions[3*U+0],l[8*U+1]=this._positions[3*U+1],l[8*U+2]=this._positions[3*U+2],t[32*U+24+0]=Q[4*(8*U+7)+0],t[32*U+24+1]=Q[4*(8*U+7)+1],t[32*U+24+2]=Q[4*(8*U+7)+2],t[32*U+24+3]=Q[4*(8*U+7)+3],l[8*U+3+0]=this._scales[3*U+0],l[8*U+3+1]=this._scales[3*U+1],l[8*U+3+2]=this._scales[3*U+2],t[32*U+28+0]=128*this._rotations[4*U+0]+128&255,t[32*U+28+1]=128*this._rotations[4*U+1]+128&255,t[32*U+28+2]=128*this._rotations[4*U+2]+128&255,t[32*U+28+3]=128*this._rotations[4*U+3]+128&255;const Z=new Blob([F.buffer],{type:"application/octet-stream"}),V=document.createElement("a");V.download=U,V.href=URL.createObjectURL(Z),V.click()}}get data(){return this._data}get vertexCount(){return this._vertexCount}get width(){return this._width}get height(){return this._height}get positions(){return this._positions}get rotations(){return this._rotations}get scales(){return this._scales}}d.RowLength=32;class n{static async LoadAsync(U,F,l){const t=await fetch(U,{mode:"cors",credentials:"omit"});if(200!=t.status)throw new Error(t.status+" Unable to load "+t.url);const Q=t.body.getReader(),Z=parseInt(t.headers.get("content-length")),V=new Uint8Array(Z);let d=0;for(;;){const{done:U,value:F}=await Q.read();if(U)break;V.set(F,d),d+=F.length,null==l||l(d/Z)}F.setData(V)}static async LoadFromFileAsync(U,F,l){const t=new FileReader;t.onload=U=>{const l=new Uint8Array(U.target.result);F.setData(l)},t.onprogress=U=>{null==l||l(U.loaded/U.total)},t.readAsArrayBuffer(U),await new Promise((U=>{t.onloadend=()=>{U()}}))}}class R{static async LoadAsync(U,F,l,t=""){const Q=await fetch(U,{mode:"cors",credentials:"omit"});if(200!=Q.status)throw new Error(Q.status+" Unable to load "+Q.url);const Z=Q.body.getReader(),V=parseInt(Q.headers.get("content-length")),d=new Uint8Array(V);let n=0;for(;;){const{done:U,value:F}=await Z.read();if(U)break;d.set(F,n),n+=F.length,null==l||l(n/V)}if(112!==d[0]||108!==d[1]||121!==d[2]||10!==d[3])throw new Error("Invalid PLY file");const R=new Uint8Array(this._ParsePLYBuffer(d.buffer,t));F.setData(R)}static async LoadFromFileAsync(U,F,l,t=""){const Q=new FileReader;Q.onload=U=>{const l=new Uint8Array(this._ParsePLYBuffer(U.target.result,t));F.setData(l)},Q.onprogress=U=>{null==l||l(U.loaded/U.total)},Q.readAsArrayBuffer(U),await new Promise((U=>{Q.onloadend=()=>{U()}}))}static _ParsePLYBuffer(l,t){const Q=new Uint8Array(l),Z=(new TextDecoder).decode(Q.slice(0,10240)),V="end_header\n",n=Z.indexOf(V);if(n<0)throw new Error("Unable to read .ply file header");const R=parseInt(/element vertex (\d+)\n/.exec(Z)[1]);let W=0;const e={double:8,int:4,uint:4,float:4,short:2,ushort:2,uchar:1},i=[];for(const U of Z.slice(0,n).split("\n").filter((U=>U.startsWith("property ")))){const[F,l,t]=U.split(" ");if(i.push({name:t,type:l,offset:W}),!e[l])throw new Error(`Unsupported property type: ${l}`);W+=e[l]}const a=new DataView(l,n+11),h=new ArrayBuffer(d.RowLength*R),B=F.FromEuler(new U(Math.PI/2,0,0));for(let U=0;U<R;U++){const l=new Float32Array(h,U*d.RowLength,3),Q=new Float32Array(h,U*d.RowLength+12,3),Z=new Uint8ClampedArray(h,U*d.RowLength+24,4),V=new Uint8ClampedArray(h,U*d.RowLength+28,4);let n=255,R=0,e=0,c=0;i.forEach((F=>{let t;switch(F.type){case"float":t=a.getFloat32(F.offset+U*W,!0);break;case"int":t=a.getInt32(F.offset+U*W,!0);break;default:throw new Error(`Unsupported property type: ${F.type}`)}switch(F.name){case"x":l[0]=t;break;case"y":l[1]=t;break;case"z":l[2]=t;break;case"scale_0":Q[0]=Math.exp(t);break;case"scale_1":Q[1]=Math.exp(t);break;case"scale_2":Q[2]=Math.exp(t);break;case"red":Z[0]=t;break;case"green":Z[1]=t;break;case"blue":Z[2]=t;break;case"f_dc_0":Z[0]=255*(.5+this.SH_C0*t);break;case"f_dc_1":Z[1]=255*(.5+this.SH_C0*t);break;case"f_dc_2":Z[2]=255*(.5+this.SH_C0*t);break;case"f_dc_3":Z[3]=255*(.5+this.SH_C0*t);break;case"opacity":Z[3]=1/(1+Math.exp(-t))*255;break;case"rot_0":n=t;break;case"rot_1":R=t;break;case"rot_2":e=t;break;case"rot_3":c=t}}));let s=new F(R,e,c,n);switch(t){case"polycam":{const U=l[1];l[1]=-l[2],l[2]=U,s=B.multiply(s);break}case"":break;default:throw new Error(`Unsupported format: ${t}`)}s=s.normalize(),V[0]=128*s.w+128,V[1]=128*s.x+128,V[2]=128*s.y+128,V[3]=128*s.z+128}return h}}function W(U,F,l){var t=void 0===F?null:F,Q=function(U,F){var l=atob(U);if(F){for(var t=new Uint8Array(l.length),Q=0,Z=l.length;Q<Z;++Q)t[Q]=l.charCodeAt(Q);return String.fromCharCode.apply(null,new Uint16Array(t.buffer))}return l}(U,void 0!==l&&l),Z=Q.indexOf("\n",10)+1,V=Q.substring(Z)+(t?"//# sourceMappingURL="+t:""),d=new Blob([V],{type:"application/javascript"});return URL.createObjectURL(d)}R.SH_C0=.28209479177387814;var e,i,a,h,B=(e="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIGxvYWRXYXNtID0gKCgpID0+IHsKICAgIAogICAgcmV0dXJuICgKICBmdW5jdGlvbihtb2R1bGVBcmcgPSB7fSkgewoKICB2YXIgTW9kdWxlPW1vZHVsZUFyZzt2YXIgcmVhZHlQcm9taXNlUmVzb2x2ZSxyZWFkeVByb21pc2VSZWplY3Q7TW9kdWxlWyJyZWFkeSJdPW5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntyZWFkeVByb21pc2VSZXNvbHZlPXJlc29sdmU7cmVhZHlQcm9taXNlUmVqZWN0PXJlamVjdDt9KTt2YXIgbW9kdWxlT3ZlcnJpZGVzPU9iamVjdC5hc3NpZ24oe30sTW9kdWxlKTt2YXIgc2NyaXB0RGlyZWN0b3J5PSIiO2Z1bmN0aW9uIGxvY2F0ZUZpbGUocGF0aCl7aWYoTW9kdWxlWyJsb2NhdGVGaWxlIl0pe3JldHVybiBNb2R1bGVbImxvY2F0ZUZpbGUiXShwYXRoLHNjcmlwdERpcmVjdG9yeSl9cmV0dXJuIHNjcmlwdERpcmVjdG9yeStwYXRofXZhciByZWFkQmluYXJ5O3t7c2NyaXB0RGlyZWN0b3J5PXNlbGYubG9jYXRpb24uaHJlZjt9aWYoc2NyaXB0RGlyZWN0b3J5LmluZGV4T2YoImJsb2I6IikhPT0wKXtzY3JpcHREaXJlY3Rvcnk9c2NyaXB0RGlyZWN0b3J5LnN1YnN0cigwLHNjcmlwdERpcmVjdG9yeS5yZXBsYWNlKC9bPyNdLiovLCIiKS5sYXN0SW5kZXhPZigiLyIpKzEpO31lbHNlIHtzY3JpcHREaXJlY3Rvcnk9IiI7fXt7cmVhZEJpbmFyeT11cmw9Pnt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbigiR0VUIix1cmwsZmFsc2UpO3hoci5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt4aHIuc2VuZChudWxsKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoeGhyLnJlc3BvbnNlKX07fX19TW9kdWxlWyJwcmludCJdfHxjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO3ZhciBlcnI9TW9kdWxlWyJwcmludEVyciJdfHxjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSk7T2JqZWN0LmFzc2lnbihNb2R1bGUsbW9kdWxlT3ZlcnJpZGVzKTttb2R1bGVPdmVycmlkZXM9bnVsbDtpZihNb2R1bGVbImFyZ3VtZW50cyJdKU1vZHVsZVsiYXJndW1lbnRzIl07aWYoTW9kdWxlWyJ0aGlzUHJvZ3JhbSJdKU1vZHVsZVsidGhpc1Byb2dyYW0iXTtpZihNb2R1bGVbInF1aXQiXSlNb2R1bGVbInF1aXQiXTt2YXIgd2FzbUJpbmFyeTtpZihNb2R1bGVbIndhc21CaW5hcnkiXSl3YXNtQmluYXJ5PU1vZHVsZVsid2FzbUJpbmFyeSJdO2lmKHR5cGVvZiBXZWJBc3NlbWJseSE9Im9iamVjdCIpe2Fib3J0KCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkIik7fWZ1bmN0aW9uIGludEFycmF5RnJvbUJhc2U2NChzKXt2YXIgZGVjb2RlZD1hdG9iKHMpO3ZhciBieXRlcz1uZXcgVWludDhBcnJheShkZWNvZGVkLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxkZWNvZGVkLmxlbmd0aDsrK2kpe2J5dGVzW2ldPWRlY29kZWQuY2hhckNvZGVBdChpKTt9cmV0dXJuIGJ5dGVzfWZ1bmN0aW9uIHRyeVBhcnNlQXNEYXRhVVJJKGZpbGVuYW1lKXtpZighaXNEYXRhVVJJKGZpbGVuYW1lKSl7cmV0dXJufXJldHVybiBpbnRBcnJheUZyb21CYXNlNjQoZmlsZW5hbWUuc2xpY2UoZGF0YVVSSVByZWZpeC5sZW5ndGgpKX12YXIgd2FzbU1lbW9yeTt2YXIgQUJPUlQ9ZmFsc2U7dmFyIEhFQVA4LEhFQVBVOCxIRUFQMTYsSEVBUFUxNixIRUFQMzIsSEVBUFUzMixIRUFQRjMyLEhFQVBGNjQ7ZnVuY3Rpb24gdXBkYXRlTWVtb3J5Vmlld3MoKXt2YXIgYj13YXNtTWVtb3J5LmJ1ZmZlcjtNb2R1bGVbIkhFQVA4Il09SEVBUDg9bmV3IEludDhBcnJheShiKTtNb2R1bGVbIkhFQVAxNiJdPUhFQVAxNj1uZXcgSW50MTZBcnJheShiKTtNb2R1bGVbIkhFQVBVOCJdPUhFQVBVOD1uZXcgVWludDhBcnJheShiKTtNb2R1bGVbIkhFQVBVMTYiXT1IRUFQVTE2PW5ldyBVaW50MTZBcnJheShiKTtNb2R1bGVbIkhFQVAzMiJdPUhFQVAzMj1uZXcgSW50MzJBcnJheShiKTtNb2R1bGVbIkhFQVBVMzIiXT1IRUFQVTMyPW5ldyBVaW50MzJBcnJheShiKTtNb2R1bGVbIkhFQVBGMzIiXT1IRUFQRjMyPW5ldyBGbG9hdDMyQXJyYXkoYik7TW9kdWxlWyJIRUFQRjY0Il09SEVBUEY2ND1uZXcgRmxvYXQ2NEFycmF5KGIpO312YXIgX19BVFBSRVJVTl9fPVtdO3ZhciBfX0FUSU5JVF9fPVtdO3ZhciBfX0FUUE9TVFJVTl9fPVtdO2Z1bmN0aW9uIHByZVJ1bigpe2lmKE1vZHVsZVsicHJlUnVuIl0pe2lmKHR5cGVvZiBNb2R1bGVbInByZVJ1biJdPT0iZnVuY3Rpb24iKU1vZHVsZVsicHJlUnVuIl09W01vZHVsZVsicHJlUnVuIl1dO3doaWxlKE1vZHVsZVsicHJlUnVuIl0ubGVuZ3RoKXthZGRPblByZVJ1bihNb2R1bGVbInByZVJ1biJdLnNoaWZ0KCkpO319Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBSRVJVTl9fKTt9ZnVuY3Rpb24gaW5pdFJ1bnRpbWUoKXtjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUSU5JVF9fKTt9ZnVuY3Rpb24gcG9zdFJ1bigpe2lmKE1vZHVsZVsicG9zdFJ1biJdKXtpZih0eXBlb2YgTW9kdWxlWyJwb3N0UnVuIl09PSJmdW5jdGlvbiIpTW9kdWxlWyJwb3N0UnVuIl09W01vZHVsZVsicG9zdFJ1biJdXTt3aGlsZShNb2R1bGVbInBvc3RSdW4iXS5sZW5ndGgpe2FkZE9uUG9zdFJ1bihNb2R1bGVbInBvc3RSdW4iXS5zaGlmdCgpKTt9fWNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRQT1NUUlVOX18pO31mdW5jdGlvbiBhZGRPblByZVJ1bihjYil7X19BVFBSRVJVTl9fLnVuc2hpZnQoY2IpO31mdW5jdGlvbiBhZGRPbkluaXQoY2Ipe19fQVRJTklUX18udW5zaGlmdChjYik7fWZ1bmN0aW9uIGFkZE9uUG9zdFJ1bihjYil7X19BVFBPU1RSVU5fXy51bnNoaWZ0KGNiKTt9dmFyIHJ1bkRlcGVuZGVuY2llcz0wO3ZhciBkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9bnVsbDtmdW5jdGlvbiBhZGRSdW5EZXBlbmRlbmN5KGlkKXtydW5EZXBlbmRlbmNpZXMrKztpZihNb2R1bGVbIm1vbml0b3JSdW5EZXBlbmRlbmNpZXMiXSl7TW9kdWxlWyJtb25pdG9yUnVuRGVwZW5kZW5jaWVzIl0ocnVuRGVwZW5kZW5jaWVzKTt9fWZ1bmN0aW9uIHJlbW92ZVJ1bkRlcGVuZGVuY3koaWQpe3J1bkRlcGVuZGVuY2llcy0tO2lmKE1vZHVsZVsibW9uaXRvclJ1bkRlcGVuZGVuY2llcyJdKXtNb2R1bGVbIm1vbml0b3JSdW5EZXBlbmRlbmNpZXMiXShydW5EZXBlbmRlbmNpZXMpO31pZihydW5EZXBlbmRlbmNpZXM9PTApe2lmKGRlcGVuZGVuY2llc0Z1bGZpbGxlZCl7dmFyIGNhbGxiYWNrPWRlcGVuZGVuY2llc0Z1bGZpbGxlZDtkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9bnVsbDtjYWxsYmFjaygpO319fWZ1bmN0aW9uIGFib3J0KHdoYXQpe2lmKE1vZHVsZVsib25BYm9ydCJdKXtNb2R1bGVbIm9uQWJvcnQiXSh3aGF0KTt9d2hhdD0iQWJvcnRlZCgiK3doYXQrIikiO2Vycih3aGF0KTtBQk9SVD10cnVlO3doYXQrPSIuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uIjt2YXIgZT1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKHdoYXQpO3JlYWR5UHJvbWlzZVJlamVjdChlKTt0aHJvdyBlfXZhciBkYXRhVVJJUHJlZml4PSJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIjt2YXIgaXNEYXRhVVJJPWZpbGVuYW1lPT5maWxlbmFtZS5zdGFydHNXaXRoKGRhdGFVUklQcmVmaXgpO3ZhciB3YXNtQmluYXJ5RmlsZTt3YXNtQmluYXJ5RmlsZT0iZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LEFHRnpiUUVBQUFBQlRneGdCSDkvZjM4QVlBTi9mMzhBWUFWL2YzOS9md0JnQm45L2YzOS9md0JnQVg4QmYyQUNmMzhBWUFOL2YzOEJmMkFCZndCZ0IzOS9mMzkvZjM4QVlBQUFZQUovZndGL1lBUi9mMzUrQUFJOUNnRmhBV0VBQVFGaEFXSUFBZ0ZoQVdNQUFRRmhBV1FBQlFGaEFXVUFBUUZoQVdZQUNBRmhBV2NBQkFGaEFXZ0FCUUZoQVdrQUFBRmhBV29BQlFNWkdBWUVCd2tIQndvTENRRUFBUVFFQXdNQ0FnQUFDZ1lHQ0FRRkFYQUJFQkFGQndFQmdBS0FnQUlHQ0FGL0FVSEFuZ1FMQnhrR0FXc0NBQUZzQUEwQmJRQWhBVzRCQUFGdkFCY0JjQUFQQ1JVQkFFRUJDdzhTRmd3T0RpQU1IeGdhSFF3Wkd4d0tqa2NZY1FFQmZ5QUNSUVJBSUFBb0FnUWdBU2dDQkVZUEN5QUFJQUZHQkVCQkFROExBa0FnQUNnQ0JDSUNMUUFBSWdCRklBQWdBU2dDQkNJQkxRQUFJZ05IY2cwQUEwQWdBUzBBQVNFRElBSXRBQUVpQUVVTkFTQUJRUUZxSVFFZ0FrRUJhaUVDSUFBZ0EwWU5BQXNMSUFBZ0EwWUxUd0VDZjBHNEdpZ0NBQ0lCSUFCQkIycEJlSEVpQW1vaEFBSkFJQUpCQUNBQUlBRk5HdzBBSUFBL0FFRVFkRXNFUUNBQUVBWkZEUUVMUWJnYUlBQTJBZ0FnQVE4TFFjZ2FRVEEyQWdCQmZ3c0dBQ0FBRUE4TEtRQkJ3QnBCQVRZQ0FFSEVHa0VBTmdJQUVCSkJ4QnBCdkJvb0FnQTJBZ0JCdkJwQndCbzJBZ0FMQWdBTDBnc0JCMzhDUUNBQVJRMEFJQUJCQ0dzaUFpQUFRUVJyS0FJQUlnRkJlSEVpQUdvaEJRSkFJQUZCQVhFTkFDQUJRUU54UlEwQklBSWdBaWdDQUNJQmF5SUNRZHdhS0FJQVNRMEJJQUFnQVdvaEFBSkFBa0JCNEJvb0FnQWdBa2NFUUNBQlFmOEJUUVJBSUFGQkEzWWhCQ0FDS0FJTUlnRWdBaWdDQ0NJRFJnUkFRY3dhUWN3YUtBSUFRWDRnQkhkeE5nSUFEQVVMSUFNZ0FUWUNEQ0FCSUFNMkFnZ01CQXNnQWlnQ0dDRUdJQUlnQWlnQ0RDSUJSd1JBSUFJb0FnZ2lBeUFCTmdJTUlBRWdBellDQ0F3REN5QUNRUlJxSWdRb0FnQWlBMFVFUUNBQ0tBSVFJZ05GRFFJZ0FrRVFhaUVFQ3dOQUlBUWhCeUFESWdGQkZHb2lCQ2dDQUNJRERRQWdBVUVRYWlFRUlBRW9BaEFpQXcwQUN5QUhRUUEyQWdBTUFnc2dCU2dDQkNJQlFRTnhRUU5IRFFKQjFCb2dBRFlDQUNBRklBRkJmbkUyQWdRZ0FpQUFRUUZ5TmdJRUlBVWdBRFlDQUE4TFFRQWhBUXNnQmtVTkFBSkFJQUlvQWh3aUEwRUNkRUg4SEdvaUJDZ0NBQ0FDUmdSQUlBUWdBVFlDQUNBQkRRRkIwQnBCMEJvb0FnQkJmaUFEZDNFMkFnQU1BZ3NnQmtFUVFSUWdCaWdDRUNBQ1JodHFJQUUyQWdBZ0FVVU5BUXNnQVNBR05nSVlJQUlvQWhBaUF3UkFJQUVnQXpZQ0VDQURJQUUyQWhnTElBSW9BaFFpQTBVTkFDQUJJQU0yQWhRZ0F5QUJOZ0lZQ3lBQ0lBVlBEUUFnQlNnQ0JDSUJRUUZ4UlEwQUFrQUNRQUpBQWtBZ0FVRUNjVVVFUUVIa0dpZ0NBQ0FGUmdSQVFlUWFJQUkyQWdCQjJCcEIyQm9vQWdBZ0FHb2lBRFlDQUNBQ0lBQkJBWEkyQWdRZ0FrSGdHaWdDQUVjTkJrSFVHa0VBTmdJQVFlQWFRUUEyQWdBUEMwSGdHaWdDQUNBRlJnUkFRZUFhSUFJMkFnQkIxQnBCMUJvb0FnQWdBR29pQURZQ0FDQUNJQUJCQVhJMkFnUWdBQ0FDYWlBQU5nSUFEd3NnQVVGNGNTQUFhaUVBSUFGQi93Rk5CRUFnQVVFRGRpRUVJQVVvQWd3aUFTQUZLQUlJSWdOR0JFQkJ6QnBCekJvb0FnQkJmaUFFZDNFMkFnQU1CUXNnQXlBQk5nSU1JQUVnQXpZQ0NBd0VDeUFGS0FJWUlRWWdCU0FGS0FJTUlnRkhCRUJCM0Jvb0FnQWFJQVVvQWdnaUF5QUJOZ0lNSUFFZ0F6WUNDQXdEQ3lBRlFSUnFJZ1FvQWdBaUEwVUVRQ0FGS0FJUUlnTkZEUUlnQlVFUWFpRUVDd05BSUFRaEJ5QURJZ0ZCRkdvaUJDZ0NBQ0lERFFBZ0FVRVFhaUVFSUFFb0FoQWlBdzBBQ3lBSFFRQTJBZ0FNQWdzZ0JTQUJRWDV4TmdJRUlBSWdBRUVCY2pZQ0JDQUFJQUpxSUFBMkFnQU1Bd3RCQUNFQkN5QUdSUTBBQWtBZ0JTZ0NIQ0lEUVFKMFFmd2NhaUlFS0FJQUlBVkdCRUFnQkNBQk5nSUFJQUVOQVVIUUdrSFFHaWdDQUVGK0lBTjNjVFlDQUF3Q0N5QUdRUkJCRkNBR0tBSVFJQVZHRzJvZ0FUWUNBQ0FCUlEwQkN5QUJJQVkyQWhnZ0JTZ0NFQ0lEQkVBZ0FTQUROZ0lRSUFNZ0FUWUNHQXNnQlNnQ0ZDSURSUTBBSUFFZ0F6WUNGQ0FESUFFMkFoZ0xJQUlnQUVFQmNqWUNCQ0FBSUFKcUlBQTJBZ0FnQWtIZ0dpZ0NBRWNOQUVIVUdpQUFOZ0lBRHdzZ0FFSC9BVTBFUUNBQVFYaHhRZlFhYWlFQkFuOUJ6Qm9vQWdBaUEwRUJJQUJCQTNaMElnQnhSUVJBUWN3YUlBQWdBM0kyQWdBZ0FRd0JDeUFCS0FJSUN5RUFJQUVnQWpZQ0NDQUFJQUkyQWd3Z0FpQUJOZ0lNSUFJZ0FEWUNDQThMUVI4aEF5QUFRZi8vL3dkTkJFQWdBRUVtSUFCQkNIWm5JZ0ZyZGtFQmNTQUJRUUYwYTBFK2FpRURDeUFDSUFNMkFod2dBa0lBTndJUUlBTkJBblJCL0J4cUlRRUNRQUpBQWtCQjBCb29BZ0FpQkVFQklBTjBJZ2R4UlFSQVFkQWFJQVFnQjNJMkFnQWdBU0FDTmdJQUlBSWdBVFlDR0F3QkN5QUFRUmtnQTBFQmRtdEJBQ0FEUVI5SEczUWhBeUFCS0FJQUlRRURRQ0FCSWdRb0FnUkJlSEVnQUVZTkFpQURRUjEySVFFZ0EwRUJkQ0VESUFRZ0FVRUVjV29pQjBFUWFpZ0NBQ0lCRFFBTElBY2dBallDRUNBQ0lBUTJBaGdMSUFJZ0FqWUNEQ0FDSUFJMkFnZ01BUXNnQkNnQ0NDSUFJQUkyQWd3Z0JDQUNOZ0lJSUFKQkFEWUNHQ0FDSUFRMkFnd2dBaUFBTmdJSUMwSHNHa0hzR2lnQ0FFRUJheUlBUVg4Z0FCczJBZ0FMQ3lrQkFYOGdBUVJBSUFBaEFnTkFJQUpCQURvQUFDQUNRUUZxSVFJZ0FVRUJheUlCRFFBTEN5QUFDeHdBSUFBZ0FVRUlJQUtuSUFKQ0lJaW5JQU9uSUFOQ0lJaW5FQVVMNFFNQVFld1hRWm9KRUFsQitCZEJ1UWhCQVVFQUVBaEJoQmhCdEFoQkFVR0FmMEgvQUJBQlFad1lRYTBJUVFGQmdIOUIvd0FRQVVHUUdFR3JDRUVCUVFCQi93RVFBVUdvR0VHSkNFRUNRWUNBZmtILy93RVFBVUcwR0VHQUNFRUNRUUJCLy84REVBRkJ3QmhCbUFoQkJFR0FnSUNBZUVILy8vLy9CeEFCUWN3WVFZOElRUVJCQUVGL0VBRkIyQmhCMXdoQkJFR0FnSUNBZUVILy8vLy9CeEFCUWVRWVFjNElRUVJCQUVGL0VBRkI4QmhCb3doQ2dJQ0FnSUNBZ0lDQWYwTC8vLy8vLy8vLy8vOEFFQkZCL0JoQm9naENBRUovRUJGQmlCbEJuQWhCQkJBRVFaUVpRWk1KUVFnUUJFR0VEMEhwQ0JBRFFjd1BRWmNORUFOQmxCQkJCRUhjQ0JBQ1FlQVFRUUpCOVFnUUFrR3NFVUVFUVlRSkVBSkJ5QkZCdmdnUUIwSHdFVUVBUWRJTUVBQkJtQkpCQUVHNERSQUFRY0FTUVFGQjhBd1FBRUhvRWtFQ1FaOEpFQUJCa0JOQkEwRytDUkFBUWJnVFFRUkI1Z2tRQUVIZ0UwRUZRWU1LRUFCQmlCUkJCRUhkRFJBQVFiQVVRUVZCK3cwUUFFR1lFa0VBUWVrS0VBQkJ3QkpCQVVISUNoQUFRZWdTUVFKQnF3c1FBRUdRRTBFRFFZa0xFQUJCdUJOQkJFR3hEQkFBUWVBVFFRVkJqd3dRQUVIWUZFRUlRZTRMRUFCQmdCVkJDVUhNQ3hBQVFhZ1ZRUVpCcVFvUUFFSFFGVUVIUWFJT0VBQUxJQUFDUUNBQUtBSUVJQUZIRFFBZ0FDZ0NIRUVCUmcwQUlBQWdBallDSEFzTG1nRUFJQUJCQVRvQU5RSkFJQUFvQWdRZ0FrY05BQ0FBUVFFNkFEUUNRQ0FBS0FJUUlnSkZCRUFnQUVFQk5nSWtJQUFnQXpZQ0dDQUFJQUUyQWhBZ0EwRUJSdzBDSUFBb0FqQkJBVVlOQVF3Q0N5QUJJQUpHQkVBZ0FDZ0NHQ0lDUVFKR0JFQWdBQ0FETmdJWUlBTWhBZ3NnQUNnQ01FRUJSdzBDSUFKQkFVWU5BUXdDQ3lBQUlBQW9BaVJCQVdvMkFpUUxJQUJCQVRvQU5nc0xYUUVCZnlBQUtBSVFJZ05GQkVBZ0FFRUJOZ0lrSUFBZ0FqWUNHQ0FBSUFFMkFoQVBDd0pBSUFFZ0EwWUVRQ0FBS0FJWVFRSkhEUUVnQUNBQ05nSVlEd3NnQUVFQk9nQTJJQUJCQWpZQ0dDQUFJQUFvQWlSQkFXbzJBaVFMQ3dRQUlBQUx4U2NCREg4akFFRVFheUlLSkFBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBQWtBZ0FFSDBBVTBFUUVITUdpZ0NBQ0lHUVJBZ0FFRUxha0Y0Y1NBQVFRdEpHeUlGUVFOMklnQjJJZ0ZCQTNFRVFBSkFJQUZCZjNOQkFYRWdBR29pQWtFRGRDSUJRZlFhYWlJQUlBRkIvQnBxS0FJQUlnRW9BZ2dpQTBZRVFFSE1HaUFHUVg0Z0FuZHhOZ0lBREFFTElBTWdBRFlDRENBQUlBTTJBZ2dMSUFGQkNHb2hBQ0FCSUFKQkEzUWlBa0VEY2pZQ0JDQUJJQUpxSWdFZ0FTZ0NCRUVCY2pZQ0JBd0tDeUFGUWRRYUtBSUFJZ2RORFFFZ0FRUkFBa0JCQWlBQWRDSUNRUUFnQW10eUlBRWdBSFJ4YUNJQlFRTjBJZ0JCOUJwcUlnSWdBRUg4R21vb0FnQWlBQ2dDQ0NJRFJnUkFRY3dhSUFaQmZpQUJkM0VpQmpZQ0FBd0JDeUFESUFJMkFnd2dBaUFETmdJSUN5QUFJQVZCQTNJMkFnUWdBQ0FGYWlJRUlBRkJBM1FpQVNBRmF5SURRUUZ5TmdJRUlBQWdBV29nQXpZQ0FDQUhCRUFnQjBGNGNVSDBHbW9oQVVIZ0dpZ0NBQ0VDQW44Z0JrRUJJQWRCQTNaMElnVnhSUVJBUWN3YUlBVWdCbkkyQWdBZ0FRd0JDeUFCS0FJSUN5RUZJQUVnQWpZQ0NDQUZJQUkyQWd3Z0FpQUJOZ0lNSUFJZ0JUWUNDQXNnQUVFSWFpRUFRZUFhSUFRMkFnQkIxQm9nQXpZQ0FBd0tDMEhRR2lnQ0FDSUxSUTBCSUF0b1FRSjBRZndjYWlnQ0FDSUNLQUlFUVhoeElBVnJJUVFnQWlFQkEwQUNRQ0FCS0FJUUlnQkZCRUFnQVNnQ0ZDSUFSUTBCQ3lBQUtBSUVRWGh4SUFWcklnRWdCQ0FCSUFSSklnRWJJUVFnQUNBQ0lBRWJJUUlnQUNFQkRBRUxDeUFDS0FJWUlRa2dBaUFDS0FJTUlnTkhCRUJCM0Jvb0FnQWFJQUlvQWdnaUFDQUROZ0lNSUFNZ0FEWUNDQXdKQ3lBQ1FSUnFJZ0VvQWdBaUFFVUVRQ0FDS0FJUUlnQkZEUU1nQWtFUWFpRUJDd05BSUFFaENDQUFJZ05CRkdvaUFTZ0NBQ0lBRFFBZ0EwRVFhaUVCSUFNb0FoQWlBQTBBQ3lBSVFRQTJBZ0FNQ0F0QmZ5RUZJQUJCdjM5TERRQWdBRUVMYWlJQVFYaHhJUVZCMEJvb0FnQWlDRVVOQUVFQUlBVnJJUVFDUUFKQUFrQUNmMEVBSUFWQmdBSkpEUUFhUVI4Z0JVSC8vLzhIU3cwQUdpQUZRU1lnQUVFSWRtY2lBR3QyUVFGeElBQkJBWFJyUVQ1cUN5SUhRUUowUWZ3Y2FpZ0NBQ0lCUlFSQVFRQWhBQXdCQzBFQUlRQWdCVUVaSUFkQkFYWnJRUUFnQjBFZlJ4dDBJUUlEUUFKQUlBRW9BZ1JCZUhFZ0JXc2lCaUFFVHcwQUlBRWhBeUFHSWdRTkFFRUFJUVFnQVNFQURBTUxJQUFnQVNnQ0ZDSUdJQVlnQVNBQ1FSMTJRUVJ4YWlnQ0VDSUJSaHNnQUNBR0d5RUFJQUpCQVhRaEFpQUJEUUFMQ3lBQUlBTnlSUVJBUVFBaEEwRUNJQWQwSWdCQkFDQUFhM0lnQ0hFaUFFVU5BeUFBYUVFQ2RFSDhIR29vQWdBaEFBc2dBRVVOQVFzRFFDQUFLQUlFUVhoeElBVnJJZ0lnQkVraEFTQUNJQVFnQVJzaEJDQUFJQU1nQVJzaEF5QUFLQUlRSWdFRWZ5QUJCU0FBS0FJVUN5SUFEUUFMQ3lBRFJRMEFJQVJCMUJvb0FnQWdCV3RQRFFBZ0F5Z0NHQ0VISUFNZ0F5Z0NEQ0lDUndSQVFkd2FLQUlBR2lBREtBSUlJZ0FnQWpZQ0RDQUNJQUEyQWdnTUJ3c2dBMEVVYWlJQktBSUFJZ0JGQkVBZ0F5Z0NFQ0lBUlEwRElBTkJFR29oQVFzRFFDQUJJUVlnQUNJQ1FSUnFJZ0VvQWdBaUFBMEFJQUpCRUdvaEFTQUNLQUlRSWdBTkFBc2dCa0VBTmdJQURBWUxJQVZCMUJvb0FnQWlBMDBFUUVIZ0dpZ0NBQ0VBQWtBZ0F5QUZheUlCUVJCUEJFQWdBQ0FGYWlJQ0lBRkJBWEkyQWdRZ0FDQURhaUFCTmdJQUlBQWdCVUVEY2pZQ0JBd0JDeUFBSUFOQkEzSTJBZ1FnQUNBRGFpSUJJQUVvQWdSQkFYSTJBZ1JCQUNFQ1FRQWhBUXRCMUJvZ0FUWUNBRUhnR2lBQ05nSUFJQUJCQ0dvaEFBd0lDeUFGUWRnYUtBSUFJZ0pKQkVCQjJCb2dBaUFGYXlJQk5nSUFRZVFhUWVRYUtBSUFJZ0FnQldvaUFqWUNBQ0FDSUFGQkFYSTJBZ1FnQUNBRlFRTnlOZ0lFSUFCQkNHb2hBQXdJQzBFQUlRQWdCVUV2YWlJRUFuOUJwQjRvQWdBRVFFR3NIaWdDQUF3QkMwR3dIa0ovTndJQVFhZ2VRb0NnZ0lDQWdBUTNBZ0JCcEI0Z0NrRU1ha0Z3Y1VIWXF0V3FCWE0yQWdCQnVCNUJBRFlDQUVHSUhrRUFOZ0lBUVlBZ0N5SUJhaUlHUVFBZ0FXc2lDSEVpQVNBRlRRMEhRWVFlS0FJQUlnTUVRRUg4SFNnQ0FDSUhJQUZxSWdrZ0IwMGdBeUFKU1hJTkNBc0NRRUdJSGkwQUFFRUVjVVVFUUFKQUFrQUNRQUpBUWVRYUtBSUFJZ01FUUVHTUhpRUFBMEFnQXlBQUtBSUFJZ2RQQkVBZ0J5QUFLQUlFYWlBRFN3MERDeUFBS0FJSUlnQU5BQXNMUVFBUUN5SUNRWDlHRFFNZ0FTRUdRYWdlS0FJQUlnQkJBV3NpQXlBQ2NRUkFJQUVnQW1zZ0FpQURha0VBSUFCcmNXb2hCZ3NnQlNBR1R3MERRWVFlS0FJQUlnQUVRRUg4SFNnQ0FDSURJQVpxSWdnZ0EwMGdBQ0FJU1hJTkJBc2dCaEFMSWdBZ0FrY05BUXdGQ3lBR0lBSnJJQWh4SWdZUUN5SUNJQUFvQWdBZ0FDZ0NCR3BHRFFFZ0FpRUFDeUFBUVg5R0RRRWdCVUV3YWlBR1RRUkFJQUFoQWd3RUMwR3NIaWdDQUNJQ0lBUWdCbXRxUVFBZ0FtdHhJZ0lRQzBGL1JnMEJJQUlnQm1vaEJpQUFJUUlNQXdzZ0FrRi9SdzBDQzBHSUhrR0lIaWdDQUVFRWNqWUNBQXNnQVJBTElnSkJmMFpCQUJBTElnQkJmMFp5SUFBZ0FrMXlEUVVnQUNBQ2F5SUdJQVZCS0dwTkRRVUxRZndkUWZ3ZEtBSUFJQVpxSWdBMkFnQkJnQjRvQWdBZ0FFa0VRRUdBSGlBQU5nSUFDd0pBUWVRYUtBSUFJZ1FFUUVHTUhpRUFBMEFnQWlBQUtBSUFJZ0VnQUNnQ0JDSURha1lOQWlBQUtBSUlJZ0FOQUFzTUJBdEIzQm9vQWdBaUFFRUFJQUFnQWswYlJRUkFRZHdhSUFJMkFnQUxRUUFoQUVHUUhpQUdOZ0lBUVl3ZUlBSTJBZ0JCN0JwQmZ6WUNBRUh3R2tHa0hpZ0NBRFlDQUVHWUhrRUFOZ0lBQTBBZ0FFRURkQ0lCUWZ3YWFpQUJRZlFhYWlJRE5nSUFJQUZCZ0J0cUlBTTJBZ0FnQUVFQmFpSUFRU0JIRFFBTFFkZ2FJQVpCS0dzaUFFRjRJQUpyUVFkeElnRnJJZ00yQWdCQjVCb2dBU0FDYWlJQk5nSUFJQUVnQTBFQmNqWUNCQ0FBSUFKcVFTZzJBZ1JCNkJwQnRCNG9BZ0EyQWdBTUJBc2dBaUFFVFNBQklBUkxjZzBDSUFBb0FneEJDSEVOQWlBQUlBTWdCbW8yQWdSQjVCb2dCRUY0SUFSclFRZHhJZ0JxSWdFMkFnQkIyQnBCMkJvb0FnQWdCbW9pQWlBQWF5SUFOZ0lBSUFFZ0FFRUJjallDQkNBQ0lBUnFRU2cyQWdSQjZCcEJ0QjRvQWdBMkFnQU1Bd3RCQUNFRERBVUxRUUFoQWd3REMwSGNHaWdDQUNBQ1N3UkFRZHdhSUFJMkFnQUxJQUlnQm1vaEFVR01IaUVBQWtBQ1FBSkFBMEFnQVNBQUtBSUFSd1JBSUFBb0FnZ2lBQTBCREFJTEN5QUFMUUFNUVFoeFJRMEJDMEdNSGlFQUEwQUNRQ0FFSUFBb0FnQWlBVThFUUNBQklBQW9BZ1JxSWdNZ0JFc05BUXNnQUNnQ0NDRUFEQUVMQzBIWUdpQUdRU2hySWdCQmVDQUNhMEVIY1NJQmF5SUlOZ0lBUWVRYUlBRWdBbW9pQVRZQ0FDQUJJQWhCQVhJMkFnUWdBQ0FDYWtFb05nSUVRZWdhUWJRZUtBSUFOZ0lBSUFRZ0EwRW5JQU5yUVFkeGFrRXZheUlBSUFBZ0JFRVFha2tiSWdGQkd6WUNCQ0FCUVpRZUtRSUFOd0lRSUFGQmpCNHBBZ0EzQWdoQmxCNGdBVUVJYWpZQ0FFR1FIaUFHTmdJQVFZd2VJQUkyQWdCQm1CNUJBRFlDQUNBQlFSaHFJUUFEUUNBQVFRYzJBZ1FnQUVFSWFpRU1JQUJCQkdvaEFDQU1JQU5KRFFBTElBRWdCRVlOQWlBQklBRW9BZ1JCZm5FMkFnUWdCQ0FCSUFScklnSkJBWEkyQWdRZ0FTQUNOZ0lBSUFKQi93Rk5CRUFnQWtGNGNVSDBHbW9oQUFKL1Fjd2FLQUlBSWdGQkFTQUNRUU4yZENJQ2NVVUVRRUhNR2lBQklBSnlOZ0lBSUFBTUFRc2dBQ2dDQ0FzaEFTQUFJQVEyQWdnZ0FTQUVOZ0lNSUFRZ0FEWUNEQ0FFSUFFMkFnZ01Bd3RCSHlFQUlBSkIvLy8vQjAwRVFDQUNRU1lnQWtFSWRtY2lBR3QyUVFGeElBQkJBWFJyUVQ1cUlRQUxJQVFnQURZQ0hDQUVRZ0EzQWhBZ0FFRUNkRUg4SEdvaEFRSkFRZEFhS0FJQUlnTkJBU0FBZENJR2NVVUVRRUhRR2lBRElBWnlOZ0lBSUFFZ0JEWUNBQXdCQ3lBQ1FSa2dBRUVCZG10QkFDQUFRUjlIRzNRaEFDQUJLQUlBSVFNRFFDQURJZ0VvQWdSQmVIRWdBa1lOQXlBQVFSMTJJUU1nQUVFQmRDRUFJQUVnQTBFRWNXb2lCaWdDRUNJRERRQUxJQVlnQkRZQ0VBc2dCQ0FCTmdJWUlBUWdCRFlDRENBRUlBUTJBZ2dNQWdzZ0FDQUNOZ0lBSUFBZ0FDZ0NCQ0FHYWpZQ0JDQUNRWGdnQW10QkIzRnFJZ2NnQlVFRGNqWUNCQ0FCUVhnZ0FXdEJCM0ZxSWdRZ0JTQUhhaUlGYXlFR0FrQkI1Qm9vQWdBZ0JFWUVRRUhrR2lBRk5nSUFRZGdhUWRnYUtBSUFJQVpxSWdBMkFnQWdCU0FBUVFGeU5nSUVEQUVMUWVBYUtBSUFJQVJHQkVCQjRCb2dCVFlDQUVIVUdrSFVHaWdDQUNBR2FpSUFOZ0lBSUFVZ0FFRUJjallDQkNBQUlBVnFJQUEyQWdBTUFRc2dCQ2dDQkNJQ1FRTnhRUUZHQkVBZ0FrRjRjU0VKQWtBZ0FrSC9BVTBFUUNBRUtBSU1JZ0FnQkNnQ0NDSUJSZ1JBUWN3YVFjd2FLQUlBUVg0Z0FrRURkbmR4TmdJQURBSUxJQUVnQURZQ0RDQUFJQUUyQWdnTUFRc2dCQ2dDR0NFSUFrQWdCQ0FFS0FJTUlnQkhCRUJCM0Jvb0FnQWFJQVFvQWdnaUFTQUFOZ0lNSUFBZ0FUWUNDQXdCQ3dKQUlBUkJGR29pQVNnQ0FDSUNSUVJBSUFRb0FoQWlBa1VOQVNBRVFSQnFJUUVMQTBBZ0FTRURJQUlpQUVFVWFpSUJLQUlBSWdJTkFDQUFRUkJxSVFFZ0FDZ0NFQ0lDRFFBTElBTkJBRFlDQUF3QkMwRUFJUUFMSUFoRkRRQUNRQ0FFS0FJY0lnRkJBblJCL0J4cUlnSW9BZ0FnQkVZRVFDQUNJQUEyQWdBZ0FBMEJRZEFhUWRBYUtBSUFRWDRnQVhkeE5nSUFEQUlMSUFoQkVFRVVJQWdvQWhBZ0JFWWJhaUFBTmdJQUlBQkZEUUVMSUFBZ0NEWUNHQ0FFS0FJUUlnRUVRQ0FBSUFFMkFoQWdBU0FBTmdJWUN5QUVLQUlVSWdGRkRRQWdBQ0FCTmdJVUlBRWdBRFlDR0FzZ0JpQUphaUVHSUFRZ0NXb2lCQ2dDQkNFQ0N5QUVJQUpCZm5FMkFnUWdCU0FHUVFGeU5nSUVJQVVnQm1vZ0JqWUNBQ0FHUWY4QlRRUkFJQVpCZUhGQjlCcHFJUUFDZjBITUdpZ0NBQ0lCUVFFZ0JrRURkblFpQW5GRkJFQkJ6Qm9nQVNBQ2NqWUNBQ0FBREFFTElBQW9BZ2dMSVFFZ0FDQUZOZ0lJSUFFZ0JUWUNEQ0FGSUFBMkFnd2dCU0FCTmdJSURBRUxRUjhoQWlBR1FmLy8vd2ROQkVBZ0JrRW1JQVpCQ0habklnQnJka0VCY1NBQVFRRjBhMEUrYWlFQ0N5QUZJQUkyQWh3Z0JVSUFOd0lRSUFKQkFuUkIvQnhxSVFFQ1FBSkFRZEFhS0FJQUlnQkJBU0FDZENJRGNVVUVRRUhRR2lBQUlBTnlOZ0lBSUFFZ0JUWUNBQXdCQ3lBR1FSa2dBa0VCZG10QkFDQUNRUjlIRzNRaEFpQUJLQUlBSVFBRFFDQUFJZ0VvQWdSQmVIRWdCa1lOQWlBQ1FSMTJJUUFnQWtFQmRDRUNJQUVnQUVFRWNXb2lBeWdDRUNJQURRQUxJQU1nQlRZQ0VBc2dCU0FCTmdJWUlBVWdCVFlDRENBRklBVTJBZ2dNQVFzZ0FTZ0NDQ0lBSUFVMkFnd2dBU0FGTmdJSUlBVkJBRFlDR0NBRklBRTJBZ3dnQlNBQU5nSUlDeUFIUVFocUlRQU1CUXNnQVNnQ0NDSUFJQVEyQWd3Z0FTQUVOZ0lJSUFSQkFEWUNHQ0FFSUFFMkFnd2dCQ0FBTmdJSUMwSFlHaWdDQUNJQUlBVk5EUUJCMkJvZ0FDQUZheUlCTmdJQVFlUWFRZVFhS0FJQUlnQWdCV29pQWpZQ0FDQUNJQUZCQVhJMkFnUWdBQ0FGUVFOeU5nSUVJQUJCQ0dvaEFBd0RDMEhJR2tFd05nSUFRUUFoQUF3Q0N3SkFJQWRGRFFBQ1FDQURLQUljSWdCQkFuUkIvQnhxSWdFb0FnQWdBMFlFUUNBQklBSTJBZ0FnQWcwQlFkQWFJQWhCZmlBQWQzRWlDRFlDQUF3Q0N5QUhRUkJCRkNBSEtBSVFJQU5HRzJvZ0FqWUNBQ0FDUlEwQkN5QUNJQWMyQWhnZ0F5Z0NFQ0lBQkVBZ0FpQUFOZ0lRSUFBZ0FqWUNHQXNnQXlnQ0ZDSUFSUTBBSUFJZ0FEWUNGQ0FBSUFJMkFoZ0xBa0FnQkVFUFRRUkFJQU1nQkNBRmFpSUFRUU55TmdJRUlBQWdBMm9pQUNBQUtBSUVRUUZ5TmdJRURBRUxJQU1nQlVFRGNqWUNCQ0FESUFWcUlnSWdCRUVCY2pZQ0JDQUNJQVJxSUFRMkFnQWdCRUgvQVUwRVFDQUVRWGh4UWZRYWFpRUFBbjlCekJvb0FnQWlBVUVCSUFSQkEzWjBJZ1Z4UlFSQVFjd2FJQUVnQlhJMkFnQWdBQXdCQ3lBQUtBSUlDeUVCSUFBZ0FqWUNDQ0FCSUFJMkFnd2dBaUFBTmdJTUlBSWdBVFlDQ0F3QkMwRWZJUUFnQkVILy8vOEhUUVJBSUFSQkppQUVRUWgyWnlJQWEzWkJBWEVnQUVFQmRHdEJQbW9oQUFzZ0FpQUFOZ0ljSUFKQ0FEY0NFQ0FBUVFKMFFmd2NhaUVCQWtBQ1FDQUlRUUVnQUhRaUJYRkZCRUJCMEJvZ0JTQUljallDQUNBQklBSTJBZ0FNQVFzZ0JFRVpJQUJCQVhaclFRQWdBRUVmUnh0MElRQWdBU2dDQUNFRkEwQWdCU0lCS0FJRVFYaHhJQVJHRFFJZ0FFRWRkaUVGSUFCQkFYUWhBQ0FCSUFWQkJIRnFJZ1lvQWhBaUJRMEFDeUFHSUFJMkFoQUxJQUlnQVRZQ0dDQUNJQUkyQWd3Z0FpQUNOZ0lJREFFTElBRW9BZ2dpQUNBQ05nSU1JQUVnQWpZQ0NDQUNRUUEyQWhnZ0FpQUJOZ0lNSUFJZ0FEWUNDQXNnQTBFSWFpRUFEQUVMQWtBZ0NVVU5BQUpBSUFJb0Fod2lBRUVDZEVIOEhHb2lBU2dDQUNBQ1JnUkFJQUVnQXpZQ0FDQUREUUZCMEJvZ0MwRitJQUIzY1RZQ0FBd0NDeUFKUVJCQkZDQUpLQUlRSUFKR0cyb2dBellDQUNBRFJRMEJDeUFESUFrMkFoZ2dBaWdDRUNJQUJFQWdBeUFBTmdJUUlBQWdBellDR0FzZ0FpZ0NGQ0lBUlEwQUlBTWdBRFlDRkNBQUlBTTJBaGdMQWtBZ0JFRVBUUVJBSUFJZ0JDQUZhaUlBUVFOeU5nSUVJQUFnQW1vaUFDQUFLQUlFUVFGeU5nSUVEQUVMSUFJZ0JVRURjallDQkNBQ0lBVnFJZ01nQkVFQmNqWUNCQ0FESUFScUlBUTJBZ0FnQndSQUlBZEJlSEZCOUJwcUlRQkI0Qm9vQWdBaEFRSi9RUUVnQjBFRGRuUWlCU0FHY1VVRVFFSE1HaUFGSUFaeU5nSUFJQUFNQVFzZ0FDZ0NDQXNoQlNBQUlBRTJBZ2dnQlNBQk5nSU1JQUVnQURZQ0RDQUJJQVUyQWdnTFFlQWFJQU0yQWdCQjFCb2dCRFlDQUFzZ0FrRUlhaUVBQ3lBS1FSQnFKQUFnQUFzYUFDQUFJQUVvQWdnZ0JSQUtCRUFnQVNBQ0lBTWdCQkFVQ3dzM0FDQUFJQUVvQWdnZ0JSQUtCRUFnQVNBQ0lBTWdCQkFVRHdzZ0FDZ0NDQ0lBSUFFZ0FpQURJQVFnQlNBQUtBSUFLQUlVRVFNQUM1RUJBQ0FBSUFFb0FnZ2dCQkFLQkVBZ0FTQUNJQU1RRXc4TEFrQWdBQ0FCS0FJQUlBUVFDa1VOQUFKQUlBSWdBU2dDRUVjRVFDQUJLQUlVSUFKSERRRUxJQU5CQVVjTkFTQUJRUUUyQWlBUEN5QUJJQUkyQWhRZ0FTQUROZ0lnSUFFZ0FTZ0NLRUVCYWpZQ0tBSkFJQUVvQWlSQkFVY05BQ0FCS0FJWVFRSkhEUUFnQVVFQk9nQTJDeUFCUVFRMkFpd0xDL0lCQUNBQUlBRW9BZ2dnQkJBS0JFQWdBU0FDSUFNUUV3OExBa0FnQUNBQktBSUFJQVFRQ2dSQUFrQWdBaUFCS0FJUVJ3UkFJQUVvQWhRZ0FrY05BUXNnQTBFQlJ3MENJQUZCQVRZQ0lBOExJQUVnQXpZQ0lBSkFJQUVvQWl4QkJFWU5BQ0FCUVFBN0FUUWdBQ2dDQ0NJQUlBRWdBaUFDUVFFZ0JDQUFLQUlBS0FJVUVRTUFJQUV0QURVRVFDQUJRUU0yQWl3Z0FTMEFORVVOQVF3REN5QUJRUVEyQWl3TElBRWdBallDRkNBQklBRW9BaWhCQVdvMkFpZ2dBU2dDSkVFQlJ3MEJJQUVvQWhoQkFrY05BU0FCUVFFNkFEWVBDeUFBS0FJSUlnQWdBU0FDSUFNZ0JDQUFLQUlBS0FJWUVRSUFDd3N4QUNBQUlBRW9BZ2hCQUJBS0JFQWdBU0FDSUFNUUZROExJQUFvQWdnaUFDQUJJQUlnQXlBQUtBSUFLQUljRVFBQUN4Z0FJQUFnQVNnQ0NFRUFFQW9FUUNBQklBSWdBeEFWQ3d1NUFnRURmeU1BUVVCcUlnSWtBQ0FBS0FJQUlnTkJCR3NvQWdBaEJDQURRUWhyS0FJQUlRTWdBa0lBTndJZ0lBSkNBRGNDS0NBQ1FnQTNBakFnQWtJQU53QTNJQUpDQURjQ0dDQUNRUUEyQWhRZ0FrSDhGVFlDRUNBQ0lBQTJBZ3dnQWlBQk5nSUlJQUFnQTJvaEFFRUFJUU1DUUNBRUlBRkJBQkFLQkVBZ0FrRUJOZ0k0SUFRZ0FrRUlhaUFBSUFCQkFVRUFJQVFvQWdBb0FoUVJBd0FnQUVFQUlBSW9BaUJCQVVZYklRTU1BUXNnQkNBQ1FRaHFJQUJCQVVFQUlBUW9BZ0FvQWhnUkFnQUNRQUpBSUFJb0Fpd09BZ0FCQWdzZ0FpZ0NIRUVBSUFJb0FpaEJBVVliUVFBZ0FpZ0NKRUVCUmh0QkFDQUNLQUl3UVFGR0d5RUREQUVMSUFJb0FpQkJBVWNFUUNBQ0tBSXdEUUVnQWlnQ0pFRUJSdzBCSUFJb0FpaEJBVWNOQVFzZ0FpZ0NHQ0VEQ3lBQ1FVQnJKQUFnQXd1YUFRRUNmeU1BUVVCcUlnTWtBQUovUVFFZ0FDQUJRUUFRQ2cwQUdrRUFJQUZGRFFBYVFRQWdBVUdzRmhBZUlnRkZEUUFhSUFOQkRHcEJOQkFRR2lBRFFRRTJBamdnQTBGL05nSVVJQU1nQURZQ0VDQURJQUUyQWdnZ0FTQURRUWhxSUFJb0FnQkJBU0FCS0FJQUtBSWNFUUFBSUFNb0FpQWlBRUVCUmdSQUlBSWdBeWdDR0RZQ0FBc2dBRUVCUmdzaEJDQURRVUJySkFBZ0JBc0tBQ0FBSUFGQkFCQUtDNmtEQWdSL0FuMUIvLy8vL3djaENVR0FnSUNBZUNFS0EwQWdBU0FJUmdSQVFRQWhCeUFHUVlDQUVCQVFJUUJEQUFDQVJ5QUtJQWxyc3BVaERBTkFJQUVnQjBZRVFFRUFJUWNnQlVFQU5nSUFJQUJCQkdzaEFFRUFJUWxCQVNFSUEwQWdDRUdBZ0FSR1JRUkFJQVVnQ0VFQ2RDSUNhaUFBSUFKcUtBSUFJQWxxSWdrMkFnQWdDRUVCYWlFSURBRUxDd05BSUFFZ0IwWkZCRUFnQlNBRElBZEJBblJxS0FJQVFRSjBhaUlBSUFBb0FnQWlBRUVCYWpZQ0FDQUVJQUJCQW5ScUlBYzJBZ0FnQjBFQmFpRUhEQUVMQ3dVQ2Z5QU1JQU1nQjBFQ2RHb2lBaWdDQUNBSmE3T1VJZ3REQUFDQVQxMGdDME1BQUFBQVlIRUVRQ0FMcVF3QkMwRUFDeUVJSUFJZ0NEWUNBQ0FBSUFoQkFuUnFJZ0lnQWlnQ0FFRUJhallDQUNBSFFRRnFJUWNNQVFzTEJTQURJQWhCQW5ScUFuOGdBQ29DQ0NBQ0lBaEJER3hxSWdjcUFnQ1VJQUFxQWhnZ0J5b0NCSlNTSUFBcUFpZ2dCeW9DQ0pTU1F3QUFnRVdVSWd1TFF3QUFBRTlkQkVBZ0M2Z01BUXRCZ0lDQWdIZ0xJZ2MyQWdBZ0NTQUhJQWNnQ1VvYklRa2dDaUFISUFjZ0NrZ2JJUW9nQ0VFQmFpRUlEQUVMQ3dzTHh4SUNBRUdBQ0F1MkVuVnVjMmxuYm1Wa0lITm9iM0owQUhWdWMybG5ibVZrSUdsdWRBQm1iRzloZEFCMWFXNTBOalJmZEFCMWJuTnBaMjVsWkNCamFHRnlBR0p2YjJ3QVpXMXpZM0pwY0hSbGJqbzZkbUZzQUhWdWMybG5ibVZrSUd4dmJtY0FjM1JrT2pwM2MzUnlhVzVuQUhOMFpEbzZjM1J5YVc1bkFITjBaRG82ZFRFMmMzUnlhVzVuQUhOMFpEbzZkVE15YzNSeWFXNW5BR1J2ZFdKc1pRQjJiMmxrQUdWdGMyTnlhWEIwWlc0Nk9tMWxiVzl5ZVY5MmFXVjNQSE5vYjNKMFBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4MWJuTnBaMjVsWkNCemFHOXlkRDRBWlcxelkzSnBjSFJsYmpvNmJXVnRiM0o1WDNacFpYYzhhVzUwUGdCbGJYTmpjbWx3ZEdWdU9qcHRaVzF2Y25sZmRtbGxkengxYm5OcFoyNWxaQ0JwYm5RK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEdac2IyRjBQZ0JsYlhOamNtbHdkR1Z1T2pwdFpXMXZjbmxmZG1sbGR6eDFhVzUwT0Y5MFBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4cGJuUTRYM1ErQUdWdGMyTnlhWEIwWlc0Nk9tMWxiVzl5ZVY5MmFXVjNQSFZwYm5ReE5sOTBQZ0JsYlhOamNtbHdkR1Z1T2pwdFpXMXZjbmxmZG1sbGR6eHBiblF4Tmw5MFBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4MWFXNTBOalJmZEQ0QVpXMXpZM0pwY0hSbGJqbzZiV1Z0YjNKNVgzWnBaWGM4YVc1ME5qUmZkRDRBWlcxelkzSnBjSFJsYmpvNmJXVnRiM0o1WDNacFpYYzhkV2x1ZERNeVgzUStBR1Z0YzJOeWFYQjBaVzQ2T20xbGJXOXllVjkyYVdWM1BHbHVkRE15WDNRK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEdOb1lYSStBR1Z0YzJOeWFYQjBaVzQ2T20xbGJXOXllVjkyYVdWM1BIVnVjMmxuYm1Wa0lHTm9ZWEkrQUhOMFpEbzZZbUZ6YVdOZmMzUnlhVzVuUEhWdWMybG5ibVZrSUdOb1lYSStBR1Z0YzJOeWFYQjBaVzQ2T20xbGJXOXllVjkyYVdWM1BITnBaMjVsWkNCamFHRnlQZ0JsYlhOamNtbHdkR1Z1T2pwdFpXMXZjbmxmZG1sbGR6eHNiMjVuUGdCbGJYTmpjbWx3ZEdWdU9qcHRaVzF2Y25sZmRtbGxkengxYm5OcFoyNWxaQ0JzYjI1blBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4a2IzVmliR1UrQUU1VGRETmZYekl4TW1KaGMybGpYM04wY21sdVowbGpUbE5mTVRGamFHRnlYM1J5WVdsMGMwbGpSVVZPVTE4NVlXeHNiMk5oZEc5eVNXTkZSVVZGQUFBQUFLUU1BQUJDQndBQVRsTjBNMTlmTWpFeVltRnphV05mYzNSeWFXNW5TV2hPVTE4eE1XTm9ZWEpmZEhKaGFYUnpTV2hGUlU1VFh6bGhiR3h2WTJGMGIzSkphRVZGUlVVQUFLUU1BQUNNQndBQVRsTjBNMTlmTWpFeVltRnphV05mYzNSeWFXNW5TWGRPVTE4eE1XTm9ZWEpmZEhKaGFYUnpTWGRGUlU1VFh6bGhiR3h2WTJGMGIzSkpkMFZGUlVVQUFLUU1BQURVQndBQVRsTjBNMTlmTWpFeVltRnphV05mYzNSeWFXNW5TVVJ6VGxOZk1URmphR0Z5WDNSeVlXbDBjMGxFYzBWRlRsTmZPV0ZzYkc5allYUnZja2xFYzBWRlJVVUFBQUNrREFBQUhBZ0FBRTVUZEROZlh6SXhNbUpoYzJsalgzTjBjbWx1WjBsRWFVNVRYekV4WTJoaGNsOTBjbUZwZEhOSlJHbEZSVTVUWHpsaGJHeHZZMkYwYjNKSlJHbEZSVVZGQUFBQXBBd0FBR2dJQUFCT01UQmxiWE5qY21sd2RHVnVNM1poYkVVQUFLUU1BQUMwQ0FBQVRqRXdaVzF6WTNKcGNIUmxiakV4YldWdGIzSjVYM1pwWlhkSlkwVkZBQUNrREFBQTBBZ0FBRTR4TUdWdGMyTnlhWEIwWlc0eE1XMWxiVzl5ZVY5MmFXVjNTV0ZGUlFBQXBBd0FBUGdJQUFCT01UQmxiWE5qY21sd2RHVnVNVEZ0WlcxdmNubGZkbWxsZDBsb1JVVUFBS1FNQUFBZ0NRQUFUakV3WlcxelkzSnBjSFJsYmpFeGJXVnRiM0o1WDNacFpYZEpjMFZGQUFDa0RBQUFTQWtBQUU0eE1HVnRjMk55YVhCMFpXNHhNVzFsYlc5eWVWOTJhV1YzU1hSRlJRQUFwQXdBQUhBSkFBQk9NVEJsYlhOamNtbHdkR1Z1TVRGdFpXMXZjbmxmZG1sbGQwbHBSVVVBQUtRTUFBQ1lDUUFBVGpFd1pXMXpZM0pwY0hSbGJqRXhiV1Z0YjNKNVgzWnBaWGRKYWtWRkFBQ2tEQUFBd0FrQUFFNHhNR1Z0YzJOeWFYQjBaVzR4TVcxbGJXOXllVjkyYVdWM1NXeEZSUUFBcEF3QUFPZ0pBQUJPTVRCbGJYTmpjbWx3ZEdWdU1URnRaVzF2Y25sZmRtbGxkMGx0UlVVQUFLUU1BQUFRQ2dBQVRqRXdaVzF6WTNKcGNIUmxiakV4YldWdGIzSjVYM1pwWlhkSmVFVkZBQUNrREFBQU9Bb0FBRTR4TUdWdGMyTnlhWEIwWlc0eE1XMWxiVzl5ZVY5MmFXVjNTWGxGUlFBQXBBd0FBR0FLQUFCT01UQmxiWE5qY21sd2RHVnVNVEZ0WlcxdmNubGZkbWxsZDBsbVJVVUFBS1FNQUFDSUNnQUFUakV3WlcxelkzSnBjSFJsYmpFeGJXVnRiM0o1WDNacFpYZEpaRVZGQUFDa0RBQUFzQW9BQUU0eE1GOWZZM2g0WVdKcGRqRXhObDlmYzJocGJWOTBlWEJsWDJsdVptOUZBQUFBQU13TUFBRFlDZ0FBTUEwQUFFNHhNRjlmWTNoNFlXSnBkakV4TjE5ZlkyeGhjM05mZEhsd1pWOXBibVp2UlFBQUFNd01BQUFJQ3dBQS9Bb0FBRTR4TUY5ZlkzaDRZV0pwZGpFeE4xOWZjR0poYzJWZmRIbHdaVjlwYm1adlJRQUFBTXdNQUFBNEN3QUEvQW9BQUU0eE1GOWZZM2g0WVdKcGRqRXhPVjlmY0c5cGJuUmxjbDkwZVhCbFgybHVabTlGQU13TUFBQm9Dd0FBWEFzQUFBQUFBQURjQ3dBQUFnQUFBQU1BQUFBRUFBQUFCUUFBQUFZQUFBQk9NVEJmWDJONGVHRmlhWFl4TWpOZlgyWjFibVJoYldWdWRHRnNYM1I1Y0dWZmFXNW1iMFVBekF3QUFMUUxBQUQ4Q2dBQWRnQUFBS0FMQUFEb0N3QUFZZ0FBQUtBTEFBRDBDd0FBWXdBQUFLQUxBQUFBREFBQWFBQUFBS0FMQUFBTURBQUFZUUFBQUtBTEFBQVlEQUFBY3dBQUFLQUxBQUFrREFBQWRBQUFBS0FMQUFBd0RBQUFhUUFBQUtBTEFBQThEQUFBYWdBQUFLQUxBQUJJREFBQWJBQUFBS0FMQUFCVURBQUFiUUFBQUtBTEFBQmdEQUFBZUFBQUFLQUxBQUJzREFBQWVRQUFBS0FMQUFCNERBQUFaZ0FBQUtBTEFBQ0VEQUFBWkFBQUFLQUxBQUNRREFBQUFBQUFBQ3dMQUFBQ0FBQUFCd0FBQUFRQUFBQUZBQUFBQ0FBQUFBa0FBQUFLQUFBQUN3QUFBQUFBQUFBVURRQUFBZ0FBQUF3QUFBQUVBQUFBQlFBQUFBZ0FBQUFOQUFBQURnQUFBQThBQUFCT01UQmZYMk40ZUdGaWFYWXhNakJmWDNOcFgyTnNZWE56WDNSNWNHVmZhVzVtYjBVQUFBQUF6QXdBQU93TUFBQXNDd0FBVTNRNWRIbHdaVjlwYm1adkFBQUFBS1FNQUFBZ0RRQkJ1Qm9MQTBBUEFRPT0iO2lmKCFpc0RhdGFVUkkod2FzbUJpbmFyeUZpbGUpKXt3YXNtQmluYXJ5RmlsZT1sb2NhdGVGaWxlKHdhc21CaW5hcnlGaWxlKTt9ZnVuY3Rpb24gZ2V0QmluYXJ5U3luYyhmaWxlKXtpZihmaWxlPT13YXNtQmluYXJ5RmlsZSYmd2FzbUJpbmFyeSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KHdhc21CaW5hcnkpfXZhciBiaW5hcnk9dHJ5UGFyc2VBc0RhdGFVUkkoZmlsZSk7aWYoYmluYXJ5KXtyZXR1cm4gYmluYXJ5fWlmKHJlYWRCaW5hcnkpe3JldHVybiByZWFkQmluYXJ5KGZpbGUpfXRocm93ICJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCJ9ZnVuY3Rpb24gZ2V0QmluYXJ5UHJvbWlzZShiaW5hcnlGaWxlKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKT0+Z2V0QmluYXJ5U3luYyhiaW5hcnlGaWxlKSl9ZnVuY3Rpb24gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihiaW5hcnlGaWxlLGltcG9ydHMscmVjZWl2ZXIpe3JldHVybiBnZXRCaW5hcnlQcm9taXNlKGJpbmFyeUZpbGUpLnRoZW4oYmluYXJ5PT5XZWJBc3NlbWJseS5pbnN0YW50aWF0ZShiaW5hcnksaW1wb3J0cykpLnRoZW4oaW5zdGFuY2U9Pmluc3RhbmNlKS50aGVuKHJlY2VpdmVyLHJlYXNvbj0+e2VycihgZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogJHtyZWFzb259YCk7YWJvcnQocmVhc29uKTt9KX1mdW5jdGlvbiBpbnN0YW50aWF0ZUFzeW5jKGJpbmFyeSxiaW5hcnlGaWxlLGltcG9ydHMsY2FsbGJhY2spe3JldHVybiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKGJpbmFyeUZpbGUsaW1wb3J0cyxjYWxsYmFjayl9ZnVuY3Rpb24gY3JlYXRlV2FzbSgpe3ZhciBpbmZvPXsiYSI6d2FzbUltcG9ydHN9O2Z1bmN0aW9uIHJlY2VpdmVJbnN0YW5jZShpbnN0YW5jZSxtb2R1bGUpe3dhc21FeHBvcnRzPWluc3RhbmNlLmV4cG9ydHM7d2FzbU1lbW9yeT13YXNtRXhwb3J0c1siayJdO3VwZGF0ZU1lbW9yeVZpZXdzKCk7YWRkT25Jbml0KHdhc21FeHBvcnRzWyJsIl0pO3JlbW92ZVJ1bkRlcGVuZGVuY3koKTtyZXR1cm4gd2FzbUV4cG9ydHN9YWRkUnVuRGVwZW5kZW5jeSgpO2Z1bmN0aW9uIHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KHJlc3VsdCl7cmVjZWl2ZUluc3RhbmNlKHJlc3VsdFsiaW5zdGFuY2UiXSk7fWlmKE1vZHVsZVsiaW5zdGFudGlhdGVXYXNtIl0pe3RyeXtyZXR1cm4gTW9kdWxlWyJpbnN0YW50aWF0ZVdhc20iXShpbmZvLHJlY2VpdmVJbnN0YW5jZSl9Y2F0Y2goZSl7ZXJyKGBNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiAke2V9YCk7cmVhZHlQcm9taXNlUmVqZWN0KGUpO319aW5zdGFudGlhdGVBc3luYyh3YXNtQmluYXJ5LHdhc21CaW5hcnlGaWxlLGluZm8scmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQpLmNhdGNoKHJlYWR5UHJvbWlzZVJlamVjdCk7cmV0dXJuIHt9fXZhciBjYWxsUnVudGltZUNhbGxiYWNrcz1jYWxsYmFja3M9Pnt3aGlsZShjYWxsYmFja3MubGVuZ3RoPjApe2NhbGxiYWNrcy5zaGlmdCgpKE1vZHVsZSk7fX07TW9kdWxlWyJub0V4aXRSdW50aW1lIl18fHRydWU7dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX2JpZ2ludD0ocHJpbWl0aXZlVHlwZSxuYW1lLHNpemUsbWluUmFuZ2UsbWF4UmFuZ2UpPT57fTt2YXIgZW1iaW5kX2luaXRfY2hhckNvZGVzPSgpPT57dmFyIGNvZGVzPW5ldyBBcnJheSgyNTYpO2Zvcih2YXIgaT0wO2k8MjU2OysraSl7Y29kZXNbaV09U3RyaW5nLmZyb21DaGFyQ29kZShpKTt9ZW1iaW5kX2NoYXJDb2Rlcz1jb2Rlczt9O3ZhciBlbWJpbmRfY2hhckNvZGVzO3ZhciByZWFkTGF0aW4xU3RyaW5nPXB0cj0+e3ZhciByZXQ9IiI7dmFyIGM9cHRyO3doaWxlKEhFQVBVOFtjXSl7cmV0Kz1lbWJpbmRfY2hhckNvZGVzW0hFQVBVOFtjKytdXTt9cmV0dXJuIHJldH07dmFyIGF3YWl0aW5nRGVwZW5kZW5jaWVzPXt9O3ZhciByZWdpc3RlcmVkVHlwZXM9e307dmFyIEJpbmRpbmdFcnJvcjt2YXIgdGhyb3dCaW5kaW5nRXJyb3I9bWVzc2FnZT0+e3Rocm93IG5ldyBCaW5kaW5nRXJyb3IobWVzc2FnZSl9O2Z1bmN0aW9uIHNoYXJlZFJlZ2lzdGVyVHlwZShyYXdUeXBlLHJlZ2lzdGVyZWRJbnN0YW5jZSxvcHRpb25zPXt9KXt2YXIgbmFtZT1yZWdpc3RlcmVkSW5zdGFuY2UubmFtZTtpZighcmF3VHlwZSl7dGhyb3dCaW5kaW5nRXJyb3IoYHR5cGUgIiR7bmFtZX0iIG11c3QgaGF2ZSBhIHBvc2l0aXZlIGludGVnZXIgdHlwZWlkIHBvaW50ZXJgKTt9aWYocmVnaXN0ZXJlZFR5cGVzLmhhc093blByb3BlcnR5KHJhd1R5cGUpKXtpZihvcHRpb25zLmlnbm9yZUR1cGxpY2F0ZVJlZ2lzdHJhdGlvbnMpe3JldHVybn1lbHNlIHt0aHJvd0JpbmRpbmdFcnJvcihgQ2Fubm90IHJlZ2lzdGVyIHR5cGUgJyR7bmFtZX0nIHR3aWNlYCk7fX1yZWdpc3RlcmVkVHlwZXNbcmF3VHlwZV09cmVnaXN0ZXJlZEluc3RhbmNlO2lmKGF3YWl0aW5nRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KHJhd1R5cGUpKXt2YXIgY2FsbGJhY2tzPWF3YWl0aW5nRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2RlbGV0ZSBhd2FpdGluZ0RlcGVuZGVuY2llc1tyYXdUeXBlXTtjYWxsYmFja3MuZm9yRWFjaChjYj0+Y2IoKSk7fX1mdW5jdGlvbiByZWdpc3RlclR5cGUocmF3VHlwZSxyZWdpc3RlcmVkSW5zdGFuY2Usb3B0aW9ucz17fSl7aWYoISgiYXJnUGFja0FkdmFuY2UiaW4gcmVnaXN0ZXJlZEluc3RhbmNlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigicmVnaXN0ZXJUeXBlIHJlZ2lzdGVyZWRJbnN0YW5jZSByZXF1aXJlcyBhcmdQYWNrQWR2YW5jZSIpfXJldHVybiBzaGFyZWRSZWdpc3RlclR5cGUocmF3VHlwZSxyZWdpc3RlcmVkSW5zdGFuY2Usb3B0aW9ucyl9dmFyIEdlbmVyaWNXaXJlVHlwZVNpemU9ODt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfYm9vbD0ocmF3VHlwZSxuYW1lLHRydWVWYWx1ZSxmYWxzZVZhbHVlKT0+e25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLCJmcm9tV2lyZVR5cGUiOmZ1bmN0aW9uKHd0KXtyZXR1cm4gISF3dH0sInRvV2lyZVR5cGUiOmZ1bmN0aW9uKGRlc3RydWN0b3JzLG8pe3JldHVybiBvP3RydWVWYWx1ZTpmYWxzZVZhbHVlfSwiYXJnUGFja0FkdmFuY2UiOkdlbmVyaWNXaXJlVHlwZVNpemUsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpmdW5jdGlvbihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUFU4W3BvaW50ZXJdKX0sZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KTt9O2Z1bmN0aW9uIGhhbmRsZUFsbG9jYXRvckluaXQoKXtPYmplY3QuYXNzaWduKEhhbmRsZUFsbG9jYXRvci5wcm90b3R5cGUse2dldChpZCl7cmV0dXJuIHRoaXMuYWxsb2NhdGVkW2lkXX0saGFzKGlkKXtyZXR1cm4gdGhpcy5hbGxvY2F0ZWRbaWRdIT09dW5kZWZpbmVkfSxhbGxvY2F0ZShoYW5kbGUpe3ZhciBpZD10aGlzLmZyZWVsaXN0LnBvcCgpfHx0aGlzLmFsbG9jYXRlZC5sZW5ndGg7dGhpcy5hbGxvY2F0ZWRbaWRdPWhhbmRsZTtyZXR1cm4gaWR9LGZyZWUoaWQpe3RoaXMuYWxsb2NhdGVkW2lkXT11bmRlZmluZWQ7dGhpcy5mcmVlbGlzdC5wdXNoKGlkKTt9fSk7fWZ1bmN0aW9uIEhhbmRsZUFsbG9jYXRvcigpe3RoaXMuYWxsb2NhdGVkPVt1bmRlZmluZWRdO3RoaXMuZnJlZWxpc3Q9W107fXZhciBlbXZhbF9oYW5kbGVzPW5ldyBIYW5kbGVBbGxvY2F0b3I7dmFyIF9fZW12YWxfZGVjcmVmPWhhbmRsZT0+e2lmKGhhbmRsZT49ZW12YWxfaGFuZGxlcy5yZXNlcnZlZCYmMD09PS0tZW12YWxfaGFuZGxlcy5nZXQoaGFuZGxlKS5yZWZjb3VudCl7ZW12YWxfaGFuZGxlcy5mcmVlKGhhbmRsZSk7fX07dmFyIGNvdW50X2VtdmFsX2hhbmRsZXM9KCk9Pnt2YXIgY291bnQ9MDtmb3IodmFyIGk9ZW12YWxfaGFuZGxlcy5yZXNlcnZlZDtpPGVtdmFsX2hhbmRsZXMuYWxsb2NhdGVkLmxlbmd0aDsrK2kpe2lmKGVtdmFsX2hhbmRsZXMuYWxsb2NhdGVkW2ldIT09dW5kZWZpbmVkKXsrK2NvdW50O319cmV0dXJuIGNvdW50fTt2YXIgaW5pdF9lbXZhbD0oKT0+e2VtdmFsX2hhbmRsZXMuYWxsb2NhdGVkLnB1c2goe3ZhbHVlOnVuZGVmaW5lZH0se3ZhbHVlOm51bGx9LHt2YWx1ZTp0cnVlfSx7dmFsdWU6ZmFsc2V9KTtlbXZhbF9oYW5kbGVzLnJlc2VydmVkPWVtdmFsX2hhbmRsZXMuYWxsb2NhdGVkLmxlbmd0aDtNb2R1bGVbImNvdW50X2VtdmFsX2hhbmRsZXMiXT1jb3VudF9lbXZhbF9oYW5kbGVzO307dmFyIEVtdmFsPXt0b1ZhbHVlOmhhbmRsZT0+e2lmKCFoYW5kbGUpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgdXNlIGRlbGV0ZWQgdmFsLiBoYW5kbGUgPSAiK2hhbmRsZSk7fXJldHVybiBlbXZhbF9oYW5kbGVzLmdldChoYW5kbGUpLnZhbHVlfSx0b0hhbmRsZTp2YWx1ZT0+e3N3aXRjaCh2YWx1ZSl7Y2FzZSB1bmRlZmluZWQ6cmV0dXJuIDE7Y2FzZSBudWxsOnJldHVybiAyO2Nhc2UgdHJ1ZTpyZXR1cm4gMztjYXNlIGZhbHNlOnJldHVybiA0O2RlZmF1bHQ6e3JldHVybiBlbXZhbF9oYW5kbGVzLmFsbG9jYXRlKHtyZWZjb3VudDoxLHZhbHVlOnZhbHVlfSl9fX19O2Z1bmN0aW9uIHNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiB0aGlzWyJmcm9tV2lyZVR5cGUiXShIRUFQMzJbcG9pbnRlcj4+Ml0pfXZhciBfX2VtYmluZF9yZWdpc3Rlcl9lbXZhbD0ocmF3VHlwZSxuYW1lKT0+e25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLCJmcm9tV2lyZVR5cGUiOmhhbmRsZT0+e3ZhciBydj1FbXZhbC50b1ZhbHVlKGhhbmRsZSk7X19lbXZhbF9kZWNyZWYoaGFuZGxlKTtyZXR1cm4gcnZ9LCJ0b1dpcmVUeXBlIjooZGVzdHJ1Y3RvcnMsdmFsdWUpPT5FbXZhbC50b0hhbmRsZSh2YWx1ZSksImFyZ1BhY2tBZHZhbmNlIjpHZW5lcmljV2lyZVR5cGVTaXplLCJyZWFkVmFsdWVGcm9tUG9pbnRlciI6c2ltcGxlUmVhZFZhbHVlRnJvbVBvaW50ZXIsZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KTt9O3ZhciBmbG9hdFJlYWRWYWx1ZUZyb21Qb2ludGVyPShuYW1lLHdpZHRoKT0+e3N3aXRjaCh3aWR0aCl7Y2FzZSA0OnJldHVybiBmdW5jdGlvbihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUEYzMltwb2ludGVyPj4yXSl9O2Nhc2UgODpyZXR1cm4gZnVuY3Rpb24ocG9pbnRlcil7cmV0dXJuIHRoaXNbImZyb21XaXJlVHlwZSJdKEhFQVBGNjRbcG9pbnRlcj4+M10pfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoYGludmFsaWQgZmxvYXQgd2lkdGggKCR7d2lkdGh9KTogJHtuYW1lfWApfX07dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX2Zsb2F0PShyYXdUeXBlLG5hbWUsc2l6ZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjp2YWx1ZT0+dmFsdWUsInRvV2lyZVR5cGUiOihkZXN0cnVjdG9ycyx2YWx1ZSk9PnZhbHVlLCJhcmdQYWNrQWR2YW5jZSI6R2VuZXJpY1dpcmVUeXBlU2l6ZSwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOmZsb2F0UmVhZFZhbHVlRnJvbVBvaW50ZXIobmFtZSxzaXplKSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pO307dmFyIGludGVnZXJSZWFkVmFsdWVGcm9tUG9pbnRlcj0obmFtZSx3aWR0aCxzaWduZWQpPT57c3dpdGNoKHdpZHRoKXtjYXNlIDE6cmV0dXJuIHNpZ25lZD9wb2ludGVyPT5IRUFQOFtwb2ludGVyPj4wXTpwb2ludGVyPT5IRUFQVThbcG9pbnRlcj4+MF07Y2FzZSAyOnJldHVybiBzaWduZWQ/cG9pbnRlcj0+SEVBUDE2W3BvaW50ZXI+PjFdOnBvaW50ZXI9PkhFQVBVMTZbcG9pbnRlcj4+MV07Y2FzZSA0OnJldHVybiBzaWduZWQ/cG9pbnRlcj0+SEVBUDMyW3BvaW50ZXI+PjJdOnBvaW50ZXI9PkhFQVBVMzJbcG9pbnRlcj4+Ml07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKGBpbnZhbGlkIGludGVnZXIgd2lkdGggKCR7d2lkdGh9KTogJHtuYW1lfWApfX07dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX2ludGVnZXI9KHByaW1pdGl2ZVR5cGUsbmFtZSxzaXplLG1pblJhbmdlLG1heFJhbmdlKT0+e25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTt2YXIgZnJvbVdpcmVUeXBlPXZhbHVlPT52YWx1ZTtpZihtaW5SYW5nZT09PTApe3ZhciBiaXRzaGlmdD0zMi04KnNpemU7ZnJvbVdpcmVUeXBlPXZhbHVlPT52YWx1ZTw8Yml0c2hpZnQ+Pj5iaXRzaGlmdDt9dmFyIGlzVW5zaWduZWRUeXBlPW5hbWUuaW5jbHVkZXMoInVuc2lnbmVkIik7dmFyIGNoZWNrQXNzZXJ0aW9ucz0odmFsdWUsdG9UeXBlTmFtZSk9Pnt9O3ZhciB0b1dpcmVUeXBlO2lmKGlzVW5zaWduZWRUeXBlKXt0b1dpcmVUeXBlPWZ1bmN0aW9uKGRlc3RydWN0b3JzLHZhbHVlKXtjaGVja0Fzc2VydGlvbnModmFsdWUsdGhpcy5uYW1lKTtyZXR1cm4gdmFsdWU+Pj4wfTt9ZWxzZSB7dG9XaXJlVHlwZT1mdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7Y2hlY2tBc3NlcnRpb25zKHZhbHVlLHRoaXMubmFtZSk7cmV0dXJuIHZhbHVlfTt9cmVnaXN0ZXJUeXBlKHByaW1pdGl2ZVR5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpmcm9tV2lyZVR5cGUsInRvV2lyZVR5cGUiOnRvV2lyZVR5cGUsImFyZ1BhY2tBZHZhbmNlIjpHZW5lcmljV2lyZVR5cGVTaXplLCJyZWFkVmFsdWVGcm9tUG9pbnRlciI6aW50ZWdlclJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2l6ZSxtaW5SYW5nZSE9PTApLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSk7fTt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfbWVtb3J5X3ZpZXc9KHJhd1R5cGUsZGF0YVR5cGVJbmRleCxuYW1lKT0+e3ZhciB0eXBlTWFwcGluZz1bSW50OEFycmF5LFVpbnQ4QXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXldO3ZhciBUQT10eXBlTWFwcGluZ1tkYXRhVHlwZUluZGV4XTtmdW5jdGlvbiBkZWNvZGVNZW1vcnlWaWV3KGhhbmRsZSl7dmFyIHNpemU9SEVBUFUzMltoYW5kbGU+PjJdO3ZhciBkYXRhPUhFQVBVMzJbaGFuZGxlKzQ+PjJdO3JldHVybiBuZXcgVEEoSEVBUDguYnVmZmVyLGRhdGEsc2l6ZSl9bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6ZGVjb2RlTWVtb3J5VmlldywiYXJnUGFja0FkdmFuY2UiOkdlbmVyaWNXaXJlVHlwZVNpemUsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpkZWNvZGVNZW1vcnlWaWV3fSx7aWdub3JlRHVwbGljYXRlUmVnaXN0cmF0aW9uczp0cnVlfSk7fTtmdW5jdGlvbiByZWFkUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUFUzMltwb2ludGVyPj4yXSl9dmFyIHN0cmluZ1RvVVRGOEFycmF5PShzdHIsaGVhcCxvdXRJZHgsbWF4Qnl0ZXNUb1dyaXRlKT0+e2lmKCEobWF4Qnl0ZXNUb1dyaXRlPjApKXJldHVybiAwO3ZhciBzdGFydElkeD1vdXRJZHg7dmFyIGVuZElkeD1vdXRJZHgrbWF4Qnl0ZXNUb1dyaXRlLTE7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7dmFyIHU9c3RyLmNoYXJDb2RlQXQoaSk7aWYodT49NTUyOTYmJnU8PTU3MzQzKXt2YXIgdTE9c3RyLmNoYXJDb2RlQXQoKytpKTt1PTY1NTM2KygodSYxMDIzKTw8MTApfHUxJjEwMjM7fWlmKHU8PTEyNyl7aWYob3V0SWR4Pj1lbmRJZHgpYnJlYWs7aGVhcFtvdXRJZHgrK109dTt9ZWxzZSBpZih1PD0yMDQ3KXtpZihvdXRJZHgrMT49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTE5Mnx1Pj42O2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzO31lbHNlIGlmKHU8PTY1NTM1KXtpZihvdXRJZHgrMj49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTIyNHx1Pj4xMjtoZWFwW291dElkeCsrXT0xMjh8dT4+NiY2MztoZWFwW291dElkeCsrXT0xMjh8dSY2Mzt9ZWxzZSB7aWYob3V0SWR4KzM+PWVuZElkeClicmVhaztoZWFwW291dElkeCsrXT0yNDB8dT4+MTg7aGVhcFtvdXRJZHgrK109MTI4fHU+PjEyJjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1Pj42JjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzO319aGVhcFtvdXRJZHhdPTA7cmV0dXJuIG91dElkeC1zdGFydElkeH07dmFyIHN0cmluZ1RvVVRGOD0oc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpPT5zdHJpbmdUb1VURjhBcnJheShzdHIsSEVBUFU4LG91dFB0cixtYXhCeXRlc1RvV3JpdGUpO3ZhciBsZW5ndGhCeXRlc1VURjg9c3RyPT57dmFyIGxlbj0wO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciBjPXN0ci5jaGFyQ29kZUF0KGkpO2lmKGM8PTEyNyl7bGVuKys7fWVsc2UgaWYoYzw9MjA0Nyl7bGVuKz0yO31lbHNlIGlmKGM+PTU1Mjk2JiZjPD01NzM0Myl7bGVuKz00OysraTt9ZWxzZSB7bGVuKz0zO319cmV0dXJuIGxlbn07dmFyIFVURjhEZWNvZGVyPXR5cGVvZiBUZXh0RGVjb2RlciE9InVuZGVmaW5lZCI/bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik6dW5kZWZpbmVkO3ZhciBVVEY4QXJyYXlUb1N0cmluZz0oaGVhcE9yQXJyYXksaWR4LG1heEJ5dGVzVG9SZWFkKT0+e3ZhciBlbmRJZHg9aWR4K21heEJ5dGVzVG9SZWFkO3ZhciBlbmRQdHI9aWR4O3doaWxlKGhlYXBPckFycmF5W2VuZFB0cl0mJiEoZW5kUHRyPj1lbmRJZHgpKSsrZW5kUHRyO2lmKGVuZFB0ci1pZHg+MTYmJmhlYXBPckFycmF5LmJ1ZmZlciYmVVRGOERlY29kZXIpe3JldHVybiBVVEY4RGVjb2Rlci5kZWNvZGUoaGVhcE9yQXJyYXkuc3ViYXJyYXkoaWR4LGVuZFB0cikpfXZhciBzdHI9IiI7d2hpbGUoaWR4PGVuZFB0cil7dmFyIHUwPWhlYXBPckFycmF5W2lkeCsrXTtpZighKHUwJjEyOCkpe3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSh1MCk7Y29udGludWV9dmFyIHUxPWhlYXBPckFycmF5W2lkeCsrXSY2MztpZigodTAmMjI0KT09MTkyKXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoKHUwJjMxKTw8Nnx1MSk7Y29udGludWV9dmFyIHUyPWhlYXBPckFycmF5W2lkeCsrXSY2MztpZigodTAmMjQwKT09MjI0KXt1MD0odTAmMTUpPDwxMnx1MTw8Nnx1Mjt9ZWxzZSB7dTA9KHUwJjcpPDwxOHx1MTw8MTJ8dTI8PDZ8aGVhcE9yQXJyYXlbaWR4KytdJjYzO31pZih1MDw2NTUzNil7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHUwKTt9ZWxzZSB7dmFyIGNoPXUwLTY1NTM2O3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxjaD4+MTAsNTYzMjB8Y2gmMTAyMyk7fX1yZXR1cm4gc3RyfTt2YXIgVVRGOFRvU3RyaW5nPShwdHIsbWF4Qnl0ZXNUb1JlYWQpPT5wdHI/VVRGOEFycmF5VG9TdHJpbmcoSEVBUFU4LHB0cixtYXhCeXRlc1RvUmVhZCk6IiI7dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF9zdHJpbmc9KHJhd1R5cGUsbmFtZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7dmFyIHN0ZFN0cmluZ0lzVVRGOD1uYW1lPT09InN0ZDo6c3RyaW5nIjtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLCJmcm9tV2lyZVR5cGUiKHZhbHVlKXt2YXIgbGVuZ3RoPUhFQVBVMzJbdmFsdWU+PjJdO3ZhciBwYXlsb2FkPXZhbHVlKzQ7dmFyIHN0cjtpZihzdGRTdHJpbmdJc1VURjgpe3ZhciBkZWNvZGVTdGFydFB0cj1wYXlsb2FkO2Zvcih2YXIgaT0wO2k8PWxlbmd0aDsrK2kpe3ZhciBjdXJyZW50Qnl0ZVB0cj1wYXlsb2FkK2k7aWYoaT09bGVuZ3RofHxIRUFQVThbY3VycmVudEJ5dGVQdHJdPT0wKXt2YXIgbWF4UmVhZD1jdXJyZW50Qnl0ZVB0ci1kZWNvZGVTdGFydFB0cjt2YXIgc3RyaW5nU2VnbWVudD1VVEY4VG9TdHJpbmcoZGVjb2RlU3RhcnRQdHIsbWF4UmVhZCk7aWYoc3RyPT09dW5kZWZpbmVkKXtzdHI9c3RyaW5nU2VnbWVudDt9ZWxzZSB7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDApO3N0cis9c3RyaW5nU2VnbWVudDt9ZGVjb2RlU3RhcnRQdHI9Y3VycmVudEJ5dGVQdHIrMTt9fX1lbHNlIHt2YXIgYT1uZXcgQXJyYXkobGVuZ3RoKTtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe2FbaV09U3RyaW5nLmZyb21DaGFyQ29kZShIRUFQVThbcGF5bG9hZCtpXSk7fXN0cj1hLmpvaW4oIiIpO31fZnJlZSh2YWx1ZSk7cmV0dXJuIHN0cn0sInRvV2lyZVR5cGUiKGRlc3RydWN0b3JzLHZhbHVlKXtpZih2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt2YWx1ZT1uZXcgVWludDhBcnJheSh2YWx1ZSk7fXZhciBsZW5ndGg7dmFyIHZhbHVlSXNPZlR5cGVTdHJpbmc9dHlwZW9mIHZhbHVlPT0ic3RyaW5nIjtpZighKHZhbHVlSXNPZlR5cGVTdHJpbmd8fHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheXx8dmFsdWUgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheXx8dmFsdWUgaW5zdGFuY2VvZiBJbnQ4QXJyYXkpKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBzdGQ6OnN0cmluZyIpO31pZihzdGRTdHJpbmdJc1VURjgmJnZhbHVlSXNPZlR5cGVTdHJpbmcpe2xlbmd0aD1sZW5ndGhCeXRlc1VURjgodmFsdWUpO31lbHNlIHtsZW5ndGg9dmFsdWUubGVuZ3RoO312YXIgYmFzZT1fbWFsbG9jKDQrbGVuZ3RoKzEpO3ZhciBwdHI9YmFzZSs0O0hFQVBVMzJbYmFzZT4+Ml09bGVuZ3RoO2lmKHN0ZFN0cmluZ0lzVVRGOCYmdmFsdWVJc09mVHlwZVN0cmluZyl7c3RyaW5nVG9VVEY4KHZhbHVlLHB0cixsZW5ndGgrMSk7fWVsc2Uge2lmKHZhbHVlSXNPZlR5cGVTdHJpbmcpe2Zvcih2YXIgaT0wO2k8bGVuZ3RoOysraSl7dmFyIGNoYXJDb2RlPXZhbHVlLmNoYXJDb2RlQXQoaSk7aWYoY2hhckNvZGU+MjU1KXtfZnJlZShwdHIpO3Rocm93QmluZGluZ0Vycm9yKCJTdHJpbmcgaGFzIFVURi0xNiBjb2RlIHVuaXRzIHRoYXQgZG8gbm90IGZpdCBpbiA4IGJpdHMiKTt9SEVBUFU4W3B0citpXT1jaGFyQ29kZTt9fWVsc2Uge2Zvcih2YXIgaT0wO2k8bGVuZ3RoOysraSl7SEVBUFU4W3B0citpXT12YWx1ZVtpXTt9fX1pZihkZXN0cnVjdG9ycyE9PW51bGwpe2Rlc3RydWN0b3JzLnB1c2goX2ZyZWUsYmFzZSk7fXJldHVybiBiYXNlfSwiYXJnUGFja0FkdmFuY2UiOkdlbmVyaWNXaXJlVHlwZVNpemUsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpyZWFkUG9pbnRlcixkZXN0cnVjdG9yRnVuY3Rpb24ocHRyKXtfZnJlZShwdHIpO319KTt9O3ZhciBVVEYxNkRlY29kZXI9dHlwZW9mIFRleHREZWNvZGVyIT0idW5kZWZpbmVkIj9uZXcgVGV4dERlY29kZXIoInV0Zi0xNmxlIik6dW5kZWZpbmVkO3ZhciBVVEYxNlRvU3RyaW5nPShwdHIsbWF4Qnl0ZXNUb1JlYWQpPT57dmFyIGVuZFB0cj1wdHI7dmFyIGlkeD1lbmRQdHI+PjE7dmFyIG1heElkeD1pZHgrbWF4Qnl0ZXNUb1JlYWQvMjt3aGlsZSghKGlkeD49bWF4SWR4KSYmSEVBUFUxNltpZHhdKSsraWR4O2VuZFB0cj1pZHg8PDE7aWYoZW5kUHRyLXB0cj4zMiYmVVRGMTZEZWNvZGVyKXJldHVybiBVVEYxNkRlY29kZXIuZGVjb2RlKEhFQVBVOC5zdWJhcnJheShwdHIsZW5kUHRyKSk7dmFyIHN0cj0iIjtmb3IodmFyIGk9MDshKGk+PW1heEJ5dGVzVG9SZWFkLzIpOysraSl7dmFyIGNvZGVVbml0PUhFQVAxNltwdHIraSoyPj4xXTtpZihjb2RlVW5pdD09MClicmVhaztzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoY29kZVVuaXQpO31yZXR1cm4gc3RyfTt2YXIgc3RyaW5nVG9VVEYxNj0oc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpPT57aWYobWF4Qnl0ZXNUb1dyaXRlPT09dW5kZWZpbmVkKXttYXhCeXRlc1RvV3JpdGU9MjE0NzQ4MzY0Nzt9aWYobWF4Qnl0ZXNUb1dyaXRlPDIpcmV0dXJuIDA7bWF4Qnl0ZXNUb1dyaXRlLT0yO3ZhciBzdGFydFB0cj1vdXRQdHI7dmFyIG51bUNoYXJzVG9Xcml0ZT1tYXhCeXRlc1RvV3JpdGU8c3RyLmxlbmd0aCoyP21heEJ5dGVzVG9Xcml0ZS8yOnN0ci5sZW5ndGg7Zm9yKHZhciBpPTA7aTxudW1DaGFyc1RvV3JpdGU7KytpKXt2YXIgY29kZVVuaXQ9c3RyLmNoYXJDb2RlQXQoaSk7SEVBUDE2W291dFB0cj4+MV09Y29kZVVuaXQ7b3V0UHRyKz0yO31IRUFQMTZbb3V0UHRyPj4xXT0wO3JldHVybiBvdXRQdHItc3RhcnRQdHJ9O3ZhciBsZW5ndGhCeXRlc1VURjE2PXN0cj0+c3RyLmxlbmd0aCoyO3ZhciBVVEYzMlRvU3RyaW5nPShwdHIsbWF4Qnl0ZXNUb1JlYWQpPT57dmFyIGk9MDt2YXIgc3RyPSIiO3doaWxlKCEoaT49bWF4Qnl0ZXNUb1JlYWQvNCkpe3ZhciB1dGYzMj1IRUFQMzJbcHRyK2kqND4+Ml07aWYodXRmMzI9PTApYnJlYWs7KytpO2lmKHV0ZjMyPj02NTUzNil7dmFyIGNoPXV0ZjMyLTY1NTM2O3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxjaD4+MTAsNTYzMjB8Y2gmMTAyMyk7fWVsc2Uge3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSh1dGYzMik7fX1yZXR1cm4gc3RyfTt2YXIgc3RyaW5nVG9VVEYzMj0oc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpPT57aWYobWF4Qnl0ZXNUb1dyaXRlPT09dW5kZWZpbmVkKXttYXhCeXRlc1RvV3JpdGU9MjE0NzQ4MzY0Nzt9aWYobWF4Qnl0ZXNUb1dyaXRlPDQpcmV0dXJuIDA7dmFyIHN0YXJ0UHRyPW91dFB0cjt2YXIgZW5kUHRyPXN0YXJ0UHRyK21heEJ5dGVzVG9Xcml0ZS00O2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtpZihjb2RlVW5pdD49NTUyOTYmJmNvZGVVbml0PD01NzM0Myl7dmFyIHRyYWlsU3Vycm9nYXRlPXN0ci5jaGFyQ29kZUF0KCsraSk7Y29kZVVuaXQ9NjU1MzYrKChjb2RlVW5pdCYxMDIzKTw8MTApfHRyYWlsU3Vycm9nYXRlJjEwMjM7fUhFQVAzMltvdXRQdHI+PjJdPWNvZGVVbml0O291dFB0cis9NDtpZihvdXRQdHIrND5lbmRQdHIpYnJlYWt9SEVBUDMyW291dFB0cj4+Ml09MDtyZXR1cm4gb3V0UHRyLXN0YXJ0UHRyfTt2YXIgbGVuZ3RoQnl0ZXNVVEYzMj1zdHI9Pnt2YXIgbGVuPTA7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7dmFyIGNvZGVVbml0PXN0ci5jaGFyQ29kZUF0KGkpO2lmKGNvZGVVbml0Pj01NTI5NiYmY29kZVVuaXQ8PTU3MzQzKSsraTtsZW4rPTQ7fXJldHVybiBsZW59O3ZhciBfX2VtYmluZF9yZWdpc3Rlcl9zdGRfd3N0cmluZz0ocmF3VHlwZSxjaGFyU2l6ZSxuYW1lKT0+e25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTt2YXIgZGVjb2RlU3RyaW5nLGVuY29kZVN0cmluZyxnZXRIZWFwLGxlbmd0aEJ5dGVzVVRGLHNoaWZ0O2lmKGNoYXJTaXplPT09Mil7ZGVjb2RlU3RyaW5nPVVURjE2VG9TdHJpbmc7ZW5jb2RlU3RyaW5nPXN0cmluZ1RvVVRGMTY7bGVuZ3RoQnl0ZXNVVEY9bGVuZ3RoQnl0ZXNVVEYxNjtnZXRIZWFwPSgpPT5IRUFQVTE2O3NoaWZ0PTE7fWVsc2UgaWYoY2hhclNpemU9PT00KXtkZWNvZGVTdHJpbmc9VVRGMzJUb1N0cmluZztlbmNvZGVTdHJpbmc9c3RyaW5nVG9VVEYzMjtsZW5ndGhCeXRlc1VURj1sZW5ndGhCeXRlc1VURjMyO2dldEhlYXA9KCk9PkhFQVBVMzI7c2hpZnQ9Mjt9cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjp2YWx1ZT0+e3ZhciBsZW5ndGg9SEVBUFUzMlt2YWx1ZT4+Ml07dmFyIEhFQVA9Z2V0SGVhcCgpO3ZhciBzdHI7dmFyIGRlY29kZVN0YXJ0UHRyPXZhbHVlKzQ7Zm9yKHZhciBpPTA7aTw9bGVuZ3RoOysraSl7dmFyIGN1cnJlbnRCeXRlUHRyPXZhbHVlKzQraSpjaGFyU2l6ZTtpZihpPT1sZW5ndGh8fEhFQVBbY3VycmVudEJ5dGVQdHI+PnNoaWZ0XT09MCl7dmFyIG1heFJlYWRCeXRlcz1jdXJyZW50Qnl0ZVB0ci1kZWNvZGVTdGFydFB0cjt2YXIgc3RyaW5nU2VnbWVudD1kZWNvZGVTdHJpbmcoZGVjb2RlU3RhcnRQdHIsbWF4UmVhZEJ5dGVzKTtpZihzdHI9PT11bmRlZmluZWQpe3N0cj1zdHJpbmdTZWdtZW50O31lbHNlIHtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoMCk7c3RyKz1zdHJpbmdTZWdtZW50O31kZWNvZGVTdGFydFB0cj1jdXJyZW50Qnl0ZVB0citjaGFyU2l6ZTt9fV9mcmVlKHZhbHVlKTtyZXR1cm4gc3RyfSwidG9XaXJlVHlwZSI6KGRlc3RydWN0b3JzLHZhbHVlKT0+e2lmKCEodHlwZW9mIHZhbHVlPT0ic3RyaW5nIikpe3Rocm93QmluZGluZ0Vycm9yKGBDYW5ub3QgcGFzcyBub24tc3RyaW5nIHRvIEMrKyBzdHJpbmcgdHlwZSAke25hbWV9YCk7fXZhciBsZW5ndGg9bGVuZ3RoQnl0ZXNVVEYodmFsdWUpO3ZhciBwdHI9X21hbGxvYyg0K2xlbmd0aCtjaGFyU2l6ZSk7SEVBUFUzMltwdHI+PjJdPWxlbmd0aD4+c2hpZnQ7ZW5jb2RlU3RyaW5nKHZhbHVlLHB0cis0LGxlbmd0aCtjaGFyU2l6ZSk7aWYoZGVzdHJ1Y3RvcnMhPT1udWxsKXtkZXN0cnVjdG9ycy5wdXNoKF9mcmVlLHB0cik7fXJldHVybiBwdHJ9LCJhcmdQYWNrQWR2YW5jZSI6R2VuZXJpY1dpcmVUeXBlU2l6ZSwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOnNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbihwdHIpe19mcmVlKHB0cik7fX0pO307dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX3ZvaWQ9KHJhd1R5cGUsbmFtZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse2lzVm9pZDp0cnVlLG5hbWU6bmFtZSwiYXJnUGFja0FkdmFuY2UiOjAsImZyb21XaXJlVHlwZSI6KCk9PnVuZGVmaW5lZCwidG9XaXJlVHlwZSI6KGRlc3RydWN0b3JzLG8pPT51bmRlZmluZWR9KTt9O3ZhciBnZXRIZWFwTWF4PSgpPT4yMTQ3NDgzNjQ4O3ZhciBncm93TWVtb3J5PXNpemU9Pnt2YXIgYj13YXNtTWVtb3J5LmJ1ZmZlcjt2YXIgcGFnZXM9KHNpemUtYi5ieXRlTGVuZ3RoKzY1NTM1KS82NTUzNjt0cnl7d2FzbU1lbW9yeS5ncm93KHBhZ2VzKTt1cGRhdGVNZW1vcnlWaWV3cygpO3JldHVybiAxfWNhdGNoKGUpe319O3ZhciBfZW1zY3JpcHRlbl9yZXNpemVfaGVhcD1yZXF1ZXN0ZWRTaXplPT57dmFyIG9sZFNpemU9SEVBUFU4Lmxlbmd0aDtyZXF1ZXN0ZWRTaXplPj4+PTA7dmFyIG1heEhlYXBTaXplPWdldEhlYXBNYXgoKTtpZihyZXF1ZXN0ZWRTaXplPm1heEhlYXBTaXplKXtyZXR1cm4gZmFsc2V9dmFyIGFsaWduVXA9KHgsbXVsdGlwbGUpPT54KyhtdWx0aXBsZS14JW11bHRpcGxlKSVtdWx0aXBsZTtmb3IodmFyIGN1dERvd249MTtjdXREb3duPD00O2N1dERvd24qPTIpe3ZhciBvdmVyR3Jvd25IZWFwU2l6ZT1vbGRTaXplKigxKy4yL2N1dERvd24pO292ZXJHcm93bkhlYXBTaXplPU1hdGgubWluKG92ZXJHcm93bkhlYXBTaXplLHJlcXVlc3RlZFNpemUrMTAwNjYzMjk2KTt2YXIgbmV3U2l6ZT1NYXRoLm1pbihtYXhIZWFwU2l6ZSxhbGlnblVwKE1hdGgubWF4KHJlcXVlc3RlZFNpemUsb3Zlckdyb3duSGVhcFNpemUpLDY1NTM2KSk7dmFyIHJlcGxhY2VtZW50PWdyb3dNZW1vcnkobmV3U2l6ZSk7aWYocmVwbGFjZW1lbnQpe3JldHVybiB0cnVlfX1yZXR1cm4gZmFsc2V9O2VtYmluZF9pbml0X2NoYXJDb2RlcygpO0JpbmRpbmdFcnJvcj1Nb2R1bGVbIkJpbmRpbmdFcnJvciJdPWNsYXNzIEJpbmRpbmdFcnJvciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKG1lc3NhZ2Upe3N1cGVyKG1lc3NhZ2UpO3RoaXMubmFtZT0iQmluZGluZ0Vycm9yIjt9fTtNb2R1bGVbIkludGVybmFsRXJyb3IiXT1jbGFzcyBJbnRlcm5hbEVycm9yIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IobWVzc2FnZSl7c3VwZXIobWVzc2FnZSk7dGhpcy5uYW1lPSJJbnRlcm5hbEVycm9yIjt9fTtoYW5kbGVBbGxvY2F0b3JJbml0KCk7aW5pdF9lbXZhbCgpO3ZhciB3YXNtSW1wb3J0cz17ZjpfX2VtYmluZF9yZWdpc3Rlcl9iaWdpbnQsaTpfX2VtYmluZF9yZWdpc3Rlcl9ib29sLGg6X19lbWJpbmRfcmVnaXN0ZXJfZW12YWwsZTpfX2VtYmluZF9yZWdpc3Rlcl9mbG9hdCxiOl9fZW1iaW5kX3JlZ2lzdGVyX2ludGVnZXIsYTpfX2VtYmluZF9yZWdpc3Rlcl9tZW1vcnlfdmlldyxkOl9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF9zdHJpbmcsYzpfX2VtYmluZF9yZWdpc3Rlcl9zdGRfd3N0cmluZyxqOl9fZW1iaW5kX3JlZ2lzdGVyX3ZvaWQsZzpfZW1zY3JpcHRlbl9yZXNpemVfaGVhcH07dmFyIHdhc21FeHBvcnRzPWNyZWF0ZVdhc20oKTtNb2R1bGVbIl9zb3J0Il09KGEwLGExLGEyLGEzLGE0LGE1LGE2KT0+KE1vZHVsZVsiX3NvcnQiXT13YXNtRXhwb3J0c1sibSJdKShhMCxhMSxhMixhMyxhNCxhNSxhNik7dmFyIF9tYWxsb2M9TW9kdWxlWyJfbWFsbG9jIl09YTA9PihfbWFsbG9jPU1vZHVsZVsiX21hbGxvYyJdPXdhc21FeHBvcnRzWyJvIl0pKGEwKTt2YXIgX2ZyZWU9TW9kdWxlWyJfZnJlZSJdPWEwPT4oX2ZyZWU9TW9kdWxlWyJfZnJlZSJdPXdhc21FeHBvcnRzWyJwIl0pKGEwKTt2YXIgY2FsbGVkUnVuO2RlcGVuZGVuY2llc0Z1bGZpbGxlZD1mdW5jdGlvbiBydW5DYWxsZXIoKXtpZighY2FsbGVkUnVuKXJ1bigpO2lmKCFjYWxsZWRSdW4pZGVwZW5kZW5jaWVzRnVsZmlsbGVkPXJ1bkNhbGxlcjt9O2Z1bmN0aW9uIHJ1bigpe2lmKHJ1bkRlcGVuZGVuY2llcz4wKXtyZXR1cm59cHJlUnVuKCk7aWYocnVuRGVwZW5kZW5jaWVzPjApe3JldHVybn1mdW5jdGlvbiBkb1J1bigpe2lmKGNhbGxlZFJ1bilyZXR1cm47Y2FsbGVkUnVuPXRydWU7TW9kdWxlWyJjYWxsZWRSdW4iXT10cnVlO2lmKEFCT1JUKXJldHVybjtpbml0UnVudGltZSgpO3JlYWR5UHJvbWlzZVJlc29sdmUoTW9kdWxlKTtpZihNb2R1bGVbIm9uUnVudGltZUluaXRpYWxpemVkIl0pTW9kdWxlWyJvblJ1bnRpbWVJbml0aWFsaXplZCJdKCk7cG9zdFJ1bigpO31pZihNb2R1bGVbInNldFN0YXR1cyJdKXtNb2R1bGVbInNldFN0YXR1cyJdKCJSdW5uaW5nLi4uIik7c2V0VGltZW91dChmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtNb2R1bGVbInNldFN0YXR1cyJdKCIiKTt9LDEpO2RvUnVuKCk7fSwxKTt9ZWxzZSB7ZG9SdW4oKTt9fWlmKE1vZHVsZVsicHJlSW5pdCJdKXtpZih0eXBlb2YgTW9kdWxlWyJwcmVJbml0Il09PSJmdW5jdGlvbiIpTW9kdWxlWyJwcmVJbml0Il09W01vZHVsZVsicHJlSW5pdCJdXTt3aGlsZShNb2R1bGVbInByZUluaXQiXS5sZW5ndGg+MCl7TW9kdWxlWyJwcmVJbml0Il0ucG9wKCkoKTt9fXJ1bigpOwoKCiAgICByZXR1cm4gbW9kdWxlQXJnLnJlYWR5CiAgfQogICk7CiAgfSkoKTsKCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkKICBsZXQgd2FzbU1vZHVsZTsKICBhc3luYyBmdW5jdGlvbiBpbml0V2FzbSgpIHsKICAgICAgd2FzbU1vZHVsZSA9IGF3YWl0IGxvYWRXYXNtKCk7CiAgfQogIGxldCBzY2VuZTsKICBsZXQgdmlld1Byb2o7CiAgbGV0IHNvcnRSdW5uaW5nID0gZmFsc2U7CiAgbGV0IHZpZXdQcm9qUHRyOwogIGxldCBmQnVmZmVyUHRyOwogIGxldCBkZXB0aEJ1ZmZlclB0cjsKICBsZXQgZGVwdGhJbmRleFB0cjsKICBsZXQgc3RhcnRzUHRyOwogIGxldCBjb3VudHNQdHI7CiAgY29uc3QgaW5pdFNjZW5lID0gYXN5bmMgKCkgPT4gewogICAgICBpZiAoIXdhc21Nb2R1bGUpCiAgICAgICAgICBhd2FpdCBpbml0V2FzbSgpOwogICAgICBmQnVmZmVyUHRyID0gd2FzbU1vZHVsZS5fbWFsbG9jKHNjZW5lLnBvc2l0aW9ucy5sZW5ndGggKiBzY2VuZS5wb3NpdGlvbnMuQllURVNfUEVSX0VMRU1FTlQpOwogICAgICB3YXNtTW9kdWxlLkhFQVBGMzIuc2V0KHNjZW5lLnBvc2l0aW9ucywgZkJ1ZmZlclB0ciAvIDQpOwogICAgICB2aWV3UHJvalB0ciA9IHdhc21Nb2R1bGUuX21hbGxvYygxNiAqIDQpOwogICAgICBkZXB0aEJ1ZmZlclB0ciA9IHdhc21Nb2R1bGUuX21hbGxvYyhzY2VuZS52ZXJ0ZXhDb3VudCAqIDQpOwogICAgICBkZXB0aEluZGV4UHRyID0gd2FzbU1vZHVsZS5fbWFsbG9jKHNjZW5lLnZlcnRleENvdW50ICogNCk7CiAgICAgIHN0YXJ0c1B0ciA9IHdhc21Nb2R1bGUuX21hbGxvYyhzY2VuZS52ZXJ0ZXhDb3VudCAqIDQpOwogICAgICBjb3VudHNQdHIgPSB3YXNtTW9kdWxlLl9tYWxsb2Moc2NlbmUudmVydGV4Q291bnQgKiA0KTsKICB9OwogIGNvbnN0IHJ1blNvcnQgPSAodmlld1Byb2opID0+IHsKICAgICAgY29uc3Qgdmlld1Byb2pCdWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KHZpZXdQcm9qLmJ1ZmZlcik7CiAgICAgIHdhc21Nb2R1bGUuSEVBUEYzMi5zZXQodmlld1Byb2pCdWZmZXIsIHZpZXdQcm9qUHRyIC8gNCk7CiAgICAgIHdhc21Nb2R1bGUuX3NvcnQodmlld1Byb2pQdHIsIHNjZW5lLnZlcnRleENvdW50LCBmQnVmZmVyUHRyLCBkZXB0aEJ1ZmZlclB0ciwgZGVwdGhJbmRleFB0ciwgc3RhcnRzUHRyLCBjb3VudHNQdHIpOwogICAgICBjb25zdCBkZXB0aEluZGV4ID0gbmV3IFVpbnQzMkFycmF5KHdhc21Nb2R1bGUuSEVBUFUzMi5idWZmZXIsIGRlcHRoSW5kZXhQdHIsIHNjZW5lLnZlcnRleENvdW50KTsKICAgICAgY29uc3QgdHJhbnNmZXJhYmxlRGVwdGhJbmRleCA9IG5ldyBVaW50MzJBcnJheShkZXB0aEluZGV4LnNsaWNlKCkpOwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHsgZGVwdGhJbmRleDogdHJhbnNmZXJhYmxlRGVwdGhJbmRleCB9LCBbdHJhbnNmZXJhYmxlRGVwdGhJbmRleC5idWZmZXJdKTsKICB9OwogIGNvbnN0IHRocm90dGxlZFNvcnQgPSAoKSA9PiB7CiAgICAgIGlmICghc29ydFJ1bm5pbmcpIHsKICAgICAgICAgIHNvcnRSdW5uaW5nID0gdHJ1ZTsKICAgICAgICAgIGNvbnN0IGxhc3RWaWV3ID0gdmlld1Byb2o7CiAgICAgICAgICBydW5Tb3J0KGxhc3RWaWV3KTsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIHNvcnRSdW5uaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgaWYgKGxhc3RWaWV3ICE9PSB2aWV3UHJvaikgewogICAgICAgICAgICAgICAgICB0aHJvdHRsZWRTb3J0KCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfSwgMCk7CiAgICAgIH0KICB9OwogIHNlbGYub25tZXNzYWdlID0gKGUpID0+IHsKICAgICAgaWYgKGUuZGF0YS5zY2VuZSkgewogICAgICAgICAgc2NlbmUgPSBlLmRhdGEuc2NlbmU7CiAgICAgICAgICBpbml0U2NlbmUoKTsKICAgICAgfQogICAgICBpZiAoIXNjZW5lIHx8ICF3YXNtTW9kdWxlKQogICAgICAgICAgcmV0dXJuOwogICAgICBpZiAoZS5kYXRhLnZpZXdQcm9qKSB7CiAgICAgICAgICB2aWV3UHJvaiA9IGUuZGF0YS52aWV3UHJvajsKICAgICAgICAgIHRocm90dGxlZFNvcnQoKTsKICAgICAgfQogIH07Cgp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1Xb3JrZXIuanMubWFwCgo=",i=null,a=!1,function(U){return h=h||W(e,i,a),new Worker(h,U)});class c{constructor(U=1){let F,l,t,Q=0,Z=!1;this.init=(U,V)=>{Q=0,Z=!0,F=U,l=U.gl.getUniformLocation(V,"u_useDepthFade"),F.gl.uniform1i(l,1),t=U.gl.getUniformLocation(V,"u_depthFade"),F.gl.uniform1f(t,Q)},this.render=()=>{Z&&(Q=Math.min(Q+.01*U,1),Q>=1&&(Z=!1,F.gl.uniform1i(l,0)),F.gl.uniform1f(t,Q))}}}class s{constructor(U=null,F=null){const l=U||document.createElement("canvas");U||(l.style.display="block",l.style.boxSizing="border-box",l.style.width="100%",l.style.height="100%",l.style.margin="0",l.style.padding="0",document.body.appendChild(l)),l.style.background="#000",this.domElement=l;const t=l.getContext("webgl2",{antialias:!1});this.gl=t;const Q=F||[];let Z,V,d,n,R,W,e,i,a,h,s,J,b,m;F||Q.push(new c);let o=!1;this.resize=()=>{const U=l.clientWidth,F=l.clientHeight;l.width===U&&l.height===F||this.setSize(U,F)},this.setSize=(U,F)=>{l.width=U,l.height=F,V&&(t.viewport(0,0,l.width,l.height),V.update(l.width,l.height),e=t.getUniformLocation(W,"projection"),t.uniformMatrix4fv(e,!1,V.projectionMatrix.buffer),i=t.getUniformLocation(W,"viewport"),t.uniform2fv(i,new Float32Array([l.width,l.height])))};const N=()=>{d=new B;const U={positions:Z.positions,vertexCount:Z.vertexCount};d.postMessage({scene:U}),t.viewport(0,0,l.width,l.height),n=t.createShader(t.VERTEX_SHADER),t.shaderSource(n,"#version 300 es\nprecision highp float;\nprecision highp int;\n\nuniform highp usampler2D u_texture;\nuniform mat4 projection, view;\nuniform vec2 focal;\nuniform vec2 viewport;\n\nuniform bool u_useDepthFade;\nuniform float u_depthFade;\n\nin vec2 position;\nin int index;\n\nout vec4 vColor;\nout vec2 vPosition;\n\nvoid main () {\n    uvec4 cen = texelFetch(u_texture, ivec2((uint(index) & 0x3ffu) << 1, uint(index) >> 10), 0);\n    vec4 cam = view * vec4(uintBitsToFloat(cen.xyz), 1);\n    vec4 pos2d = projection * cam;\n\n    float clip = 1.2 * pos2d.w;\n    if (pos2d.z < -pos2d.w || pos2d.x < -clip || pos2d.x > clip || pos2d.y < -clip || pos2d.y > clip) {\n        gl_Position = vec4(0.0, 0.0, 2.0, 1.0);\n        return;\n    }\n\n\n    uvec4 cov = texelFetch(u_texture, ivec2(((uint(index) & 0x3ffu) << 1) | 1u, uint(index) >> 10), 0);\n    vec2 u1 = unpackHalf2x16(cov.x), u2 = unpackHalf2x16(cov.y), u3 = unpackHalf2x16(cov.z);\n    mat3 Vrk = mat3(u1.x, u1.y, u2.x, u1.y, u2.y, u3.x, u2.x, u3.x, u3.y);\n\n    mat3 J = mat3(\n        focal.x / cam.z, 0., -(focal.x * cam.x) / (cam.z * cam.z), \n        0., -focal.y / cam.z, (focal.y * cam.y) / (cam.z * cam.z), \n        0., 0., 0.\n    );\n\n    mat3 T = transpose(mat3(view)) * J;\n    mat3 cov2d = transpose(T) * Vrk * T;\n\n    float mid = (cov2d[0][0] + cov2d[1][1]) / 2.0;\n    float radius = length(vec2((cov2d[0][0] - cov2d[1][1]) / 2.0, cov2d[0][1]));\n    float lambda1 = mid + radius, lambda2 = mid - radius;\n\n    if(lambda2 < 0.0) return;\n    vec2 diagonalVector = normalize(vec2(cov2d[0][1], lambda1 - cov2d[0][0]));\n    vec2 majorAxis = min(sqrt(2.0 * lambda1), 1024.0) * diagonalVector;\n    vec2 minorAxis = min(sqrt(2.0 * lambda2), 1024.0) * vec2(diagonalVector.y, -diagonalVector.x);\n\n    vColor = vec4((cov.w) & 0xffu, (cov.w >> 8) & 0xffu, (cov.w >> 16) & 0xffu, (cov.w >> 24) & 0xffu) / 255.0;\n    vPosition = position;\n\n    float scalingFactor = 1.0;\n\n    if(u_useDepthFade) {\n        float depthNorm = (pos2d.z / pos2d.w + 1.0) / 2.0;\n        float near = 0.1; float far = 100.0;\n        float normalizedDepth = (2.0 * near) / (far + near - depthNorm * (far - near));\n        float start = max(normalizedDepth - 0.1, 0.0);\n        float end = min(normalizedDepth + 0.1, 1.0);\n        scalingFactor = clamp((u_depthFade - start) / (end - start), 0.0, 1.0);\n    }\n\n    vec2 vCenter = vec2(pos2d) / pos2d.w;\n    gl_Position = vec4(\n        vCenter \n        + position.x * majorAxis * scalingFactor / viewport \n        + position.y * minorAxis * scalingFactor / viewport, 0.0, 1.0);\n\n}\n"),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)||console.error(t.getShaderInfoLog(n)),R=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(R,"#version 300 es\nprecision highp float;\n\nin vec4 vColor;\nin vec2 vPosition;\n\nout vec4 fragColor;\n\nvoid main () {\n    float A = -dot(vPosition, vPosition);\n    if (A < -4.0) discard;\n    float B = exp(A) * vColor.a;\n    fragColor = vec4(B * vColor.rgb, B);\n}\n"),t.compileShader(R),t.getShaderParameter(R,t.COMPILE_STATUS)||console.error(t.getShaderInfoLog(R)),W=t.createProgram(),t.attachShader(W,n),t.attachShader(W,R),t.linkProgram(W),t.useProgram(W),t.getProgramParameter(W,t.LINK_STATUS)||console.error(t.getProgramInfoLog(W)),t.disable(t.DEPTH_TEST),t.enable(t.BLEND),t.blendFuncSeparate(t.ONE_MINUS_DST_ALPHA,t.ONE,t.ONE_MINUS_DST_ALPHA,t.ONE),t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),V.update(l.width,l.height),e=t.getUniformLocation(W,"projection"),t.uniformMatrix4fv(e,!1,V.projectionMatrix.buffer),i=t.getUniformLocation(W,"viewport"),t.uniform2fv(i,new Float32Array([l.width,l.height])),a=t.getUniformLocation(W,"focal"),t.uniform2fv(a,new Float32Array([V.fx,V.fy])),h=t.getUniformLocation(W,"view"),t.uniformMatrix4fv(h,!1,V.viewMatrix.buffer);const F=new Float32Array([-2,-2,2,-2,2,2,-2,2]);m=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,m),t.bufferData(t.ARRAY_BUFFER,F,t.STATIC_DRAW),J=t.getAttribLocation(W,"position"),t.enableVertexAttribArray(J),t.vertexAttribPointer(J,2,t.FLOAT,!1,0,0);const c=t.createTexture();t.bindTexture(t.TEXTURE_2D,c),s=t.getUniformLocation(W,"u_texture"),t.uniform1i(s,0);const N=t.createBuffer();b=t.getAttribLocation(W,"index"),t.enableVertexAttribArray(b),t.bindBuffer(t.ARRAY_BUFFER,N),t.vertexAttribIPointer(b,1,t.INT,0,0),t.vertexAttribDivisor(b,1),t.bindTexture(t.TEXTURE_2D,c),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32UI,Z.width,Z.height,0,t.RGBA_INTEGER,t.UNSIGNED_INT,Z.data),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,c);for(const U of Q)U.init(this,W);d.onmessage=U=>{if(U.data.depthIndex){const{depthIndex:F}=U.data;t.bindBuffer(t.ARRAY_BUFFER,N),t.bufferData(t.ARRAY_BUFFER,F,t.STATIC_DRAW)}},o=!0},G=()=>{o&&this.dispose(),N()};this.render=(U,F)=>{if(U===Z&&F===V||(o&&this.dispose(),V=F,U!==Z&&(Z&&Z.removeEventListener("change",G),Z=U,Z.addEventListener("change",G)),N()),V.update(l.width,l.height),d.postMessage({viewProj:V.viewProj}),Z.vertexCount>0){for(const U of Q)U.render();t.uniformMatrix4fv(h,!1,V.viewMatrix.buffer),t.clear(t.COLOR_BUFFER_BIT),t.drawArraysInstanced(t.TRIANGLE_FAN,0,4,Z.vertexCount)}else t.clear(t.COLOR_BUFFER_BIT)},this.dispose=()=>{d.terminate(),t.deleteShader(n),t.deleteShader(R),t.deleteProgram(W),t.deleteBuffer(m),t.deleteBuffer(undefined),t.deleteBuffer(undefined),t.deleteBuffer(undefined),t.deleteBuffer(undefined),o=!1},this.resize()}}class J{constructor(l,t,Z=.5,V=.5,d=5,n=!0,R=new U){this.minAngle=-90,this.maxAngle=90,this.minZoom=.1,this.maxZoom=30,this.orbitSpeed=1,this.panSpeed=1,this.zoomSpeed=1,this.dampening=.12,this.setCameraTarget=()=>{},this.attach=()=>{},this.detach=()=>{};let W=R.clone(),e=W.clone(),i=Z,a=V,h=d,B=!1,c=!1,s=0,J=0,b=0;const m={};let o=null,N=!1;const G=()=>{if(!o||N)return;const F=o.rotation.toEuler();i=-F.y,a=-F.x;const l=o.position.x-h*Math.sin(i)*Math.cos(a),t=o.position.y+h*Math.sin(a),Q=o.position.z+h*Math.cos(i)*Math.cos(a);e=new U(l,t,Q)};this.attach=U=>{o&&this.detach(),o=U,o.addEventListener("change",G)},this.detach=()=>{o&&(o.removeEventListener("change",G),o=null)},this.attach(l),this.setCameraTarget=F=>{if(!o)return;const l=F.x-o.position.x,t=F.y-o.position.y,Q=F.z-o.position.z;h=Math.sqrt(l*l+t*t+Q*Q),a=Math.atan2(t,Math.sqrt(l*l+Q*Q)),i=-Math.atan2(l,Q),e=new U(F.x,F.y,F.z)};const X=()=>.1+.9*(h-this.minZoom)/(this.maxZoom-this.minZoom),r=U=>{m[U.code]=!0,"ArrowUp"===U.code&&(m.KeyW=!0),"ArrowDown"===U.code&&(m.KeyS=!0),"ArrowLeft"===U.code&&(m.KeyA=!0),"ArrowRight"===U.code&&(m.KeyD=!0)},p=U=>{m[U.code]=!1,"ArrowUp"===U.code&&(m.KeyW=!1),"ArrowDown"===U.code&&(m.KeyS=!1),"ArrowLeft"===U.code&&(m.KeyA=!1),"ArrowRight"===U.code&&(m.KeyD=!1)},y=U=>{C(U),B=!0,c=2===U.button,J=U.clientX,b=U.clientY,window.addEventListener("mouseup",S)},S=U=>{C(U),B=!1,c=!1,window.removeEventListener("mouseup",S)},k=F=>{if(C(F),!B||!o)return;const l=F.clientX-J,t=F.clientY-b;if(c){const F=X(),Z=-l*this.panSpeed*.01*F,V=-t*this.panSpeed*.01*F,d=Q.RotationFromQuaternion(o.rotation).buffer,n=new U(d[0],d[3],d[6]),R=new U(d[1],d[4],d[7]);e=e.add(n.multiply(Z)),e=e.add(R.multiply(V))}else i-=l*this.orbitSpeed*.003,a+=t*this.orbitSpeed*.003,a=Math.min(Math.max(a,this.minAngle*Math.PI/180),this.maxAngle*Math.PI/180);J=F.clientX,b=F.clientY},Y=U=>{C(U);const F=X();h+=U.deltaY*this.zoomSpeed*.025*F,h=Math.min(Math.max(h,this.minZoom),this.maxZoom)},u=U=>{if(C(U),1===U.touches.length)B=!0,c=!1,J=U.touches[0].clientX,b=U.touches[0].clientY,s=0;else if(2===U.touches.length){B=!0,c=!0,J=(U.touches[0].clientX+U.touches[1].clientX)/2,b=(U.touches[0].clientY+U.touches[1].clientY)/2;const F=U.touches[0].clientX-U.touches[1].clientX,l=U.touches[0].clientY-U.touches[1].clientY;s=Math.sqrt(F*F+l*l)}},T=U=>{C(U),B=!1,c=!1},I=F=>{if(C(F),B&&o)if(c){const l=X(),t=F.touches[0].clientX-F.touches[1].clientX,Z=F.touches[0].clientY-F.touches[1].clientY,V=Math.sqrt(t*t+Z*Z);h+=(s-V)*this.zoomSpeed*.1*l,h=Math.min(Math.max(h,this.minZoom),this.maxZoom),s=V;const d=(F.touches[0].clientX+F.touches[1].clientX)/2,n=(F.touches[0].clientY+F.touches[1].clientY)/2,R=d-J,W=n-b,i=Q.RotationFromQuaternion(o.rotation).buffer,a=new U(i[0],i[3],i[6]),B=new U(i[1],i[4],i[7]);e=e.add(a.multiply(-R*this.panSpeed*.025*l)),e=e.add(B.multiply(-W*this.panSpeed*.025*l)),J=d,b=n}else{const U=F.touches[0].clientX-J,l=F.touches[0].clientY-b;i-=U*this.orbitSpeed*.003,a+=l*this.orbitSpeed*.003,a=Math.min(Math.max(a,this.minAngle*Math.PI/180),this.maxAngle*Math.PI/180),J=F.touches[0].clientX,b=F.touches[0].clientY}},E=(U,F,l)=>(1-l)*U+l*F;this.update=()=>{if(!o)return;N=!0,Z=E(Z,i,this.dampening),V=E(V,a,this.dampening),d=E(d,h,this.dampening),W=W.lerp(e,this.dampening);const l=W.x+d*Math.sin(Z)*Math.cos(V),t=W.y-d*Math.sin(V),n=W.z-d*Math.cos(Z)*Math.cos(V);o.position=new U(l,t,n);const R=W.subtract(o.position).normalize(),B=Math.asin(-R.y),c=Math.atan2(R.x,R.z);o.rotation=F.FromEuler(new U(B,c,0));const s=.025,J=.01,b=Q.RotationFromQuaternion(o.rotation).buffer,G=new U(-b[2],-b[5],-b[8]),X=new U(b[0],b[3],b[6]);m.KeyS&&(e=e.add(G.multiply(s))),m.KeyW&&(e=e.subtract(G.multiply(s))),m.KeyA&&(e=e.subtract(X.multiply(s))),m.KeyD&&(e=e.add(X.multiply(s))),m.KeyE&&(i+=J),m.KeyQ&&(i-=J),m.KeyR&&(a+=J),m.KeyF&&(a-=J),N=!1};const C=U=>{U.preventDefault(),U.stopPropagation()};this.dispose=()=>{t.removeEventListener("dragenter",C),t.removeEventListener("dragover",C),t.removeEventListener("dragleave",C),t.removeEventListener("contextmenu",C),t.removeEventListener("mousedown",y),t.removeEventListener("mousemove",k),t.removeEventListener("wheel",Y),t.removeEventListener("touchstart",u),t.removeEventListener("touchend",T),t.removeEventListener("touchmove",I),n&&(window.removeEventListener("keydown",r),window.removeEventListener("keyup",p))},n&&(window.addEventListener("keydown",r),window.addEventListener("keyup",p)),t.addEventListener("dragenter",C),t.addEventListener("dragover",C),t.addEventListener("dragleave",C),t.addEventListener("contextmenu",C),t.addEventListener("mousedown",y),t.addEventListener("mousemove",k),t.addEventListener("wheel",Y),t.addEventListener("touchstart",u),t.addEventListener("touchend",T),t.addEventListener("touchmove",I),this.update()}}class b{init(U,F){}render(){}}export{V as Camera,c as FadeInPass,n as Loader,Q as Matrix3,Z as Matrix4,J as OrbitControls,R as PLYLoader,F as Quaternion,d as Scene,b as ShaderPass,U as Vector3,s as WebGLRenderer};
//# sourceMappingURL=index.js.map
